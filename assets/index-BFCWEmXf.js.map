{"version":3,"file":"index-BFCWEmXf.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/CarEditorTycoon.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\n\n// CAR EDITOR TYCOON â€” singleâ€‘file React game (Shop + Friends Pool Edition)\n// Updates in this patch:\n// 1) Hiring now pulls ONLY from your friends list; each can be hired ONCE, at equal starting stats.\n// 2) Shop price/name tweaks: GH Glow (v1) $50, JerryFlow V2 $240, JerrySFX $90, ESSENTIALFX $250, ESSENTIALSFX $80.\n// 3) Added autosave every 10 ticks and on app blur, export/import save functionality, and cloud backup.\n\n// ==================== Config ====================\nconst CONFIG = {\n  cloudBackupUrl: null, // Set this to your Google Apps Script URL for cloud backup\n  gameVersion: \"1.3.0\",\n  ownerHandle: \"alexafoot911-web\", // Set this to your GitHub handle for dev access in production\n  autosaveInterval: 10, // ticks\n  api: {\n    submitRunUrl: null, // POST endpoint for submitting run data\n    leaderboardUrl: null, // GET endpoint for fetching leaderboard\n    requestHandleUrl: null, // POST endpoint for requesting handle\n    timeout: 10000, // 10 second timeout\n    retryDelay: 2000 // 2 second delay before retry\n  },\n  healthCheck: {\n    interval: 7, // Check every 7 in-game days\n    simulationDays: 7, // Simulate 7 days ahead\n    minLeadsPerDay: 1, // Minimum leads per day from job generator\n    softClamps: {\n      maxSalary: 10000, // Maximum daily salary per editor\n      maxPayout: 50000, // Maximum job payout\n      maxCash: 1000000, // Maximum cash amount\n      maxReputation: 1000, // Maximum reputation\n      maxEditors: 200, // Maximum number of editors\n      maxPCs: 100 // Maximum number of PCs\n    }\n  },\n  dev: {\n    commandPaletteHotkey: '`', // Backtick key for command palette\n    simulationDays: 30, // Default simulation days for dev commands\n    maxCashFill: 1000000, // Maximum cash fill amount\n    maxLeadsSpawn: 50, // Maximum leads to spawn at once\n    changelogMaxEntries: 100, // Maximum changelog entries to keep\n    performance: {\n      targetFPS: 60, // Target frames per second\n      maxRenderTime: 16, // Maximum render time in ms (60 FPS = 16.67ms)\n      maxTickTime: 8, // Maximum tick processing time in ms\n      batchUpdates: true, // Enable batched state updates\n      memoizeExpensive: true, // Enable memoization of expensive calculations\n      virtualizeLists: true, // Enable list virtualization for large datasets\n      maxVisibleJobs: 20, // Maximum jobs to render at once\n      maxVisibleEditors: 30, // Maximum editors to render at once\n      maxVisiblePCs: 20 // Maximum PCs to render at once\n    }\n  },\n  featureFlags: {\n    blackMarket: true, // Enable black market features\n    prestige: true, // Enable prestige system\n    saveSystem: true, // Save/Export/Import system\n    teamEfficiency: true, // Team efficiency decay\n    managers: true, // Manager system\n    onboarding: true, // Onboarding delays\n    costScaling: true, // Exponential cost scaling\n    dailyOverhead: true, // Daily overhead costs\n    marketCycles: true, // Market cycle system\n    jobTiers: true, // Job tier system\n    graceWindow: true, // Grace window system\n    pcCrash: true, // PC crash system\n    burnout: true, // Burnout system\n    memeEvents: true, // Meme events system\n    research: true, // Research system\n    achievements: true, // Achievements system\n    marketing: true, // Marketing scaling\n    reputationTiers: true, // Reputation tier system\n    leaderboard: true, // Leaderboard system\n  },\n  balance: {\n    // Team efficiency decay\n    efficiencyDecayStart: 10, // editors\n    efficiencyDecayRate: 0.05, // per editor over the limit\n    efficiencyMin: 0.35, // minimum efficiency (35%)\n    \n    // Managers\n    managerUnlockThresholds: [10, 25, 50], // editors needed to unlock managers\n    managerEfficiencyBonus: 0.15, // per manager\n    managerSalary: 300, // daily salary per manager\n    maxManagers: 3, // maximum managers possible\n    \n    // Onboarding\n    onboardingBaseHours: 8, // base onboarding time\n    onboardingScalingFactor: 0.5, // additional hours per existing editor\n    \n    // Cost scaling curves (exponential with gentle growth)\n    hireEditor: {\n      baseCost: 650, // starting cost\n      scalingFactor: 1.15, // exponential growth rate (15% per hire)\n    },\n    buyPC: {\n      baseCost: 900, // starting cost\n      scalingFactor: 1.12, // exponential growth rate (12% per PC)\n    },\n    trainEditor: {\n      baseCost: 220, // starting cost\n      scalingFactor: 1.08, // exponential growth rate (8% per training)\n    },\n    upgradePC: {\n      baseCost: 350, // starting cost\n      scalingFactor: 1.10, // exponential growth rate (10% per upgrade)\n    },\n    \n    // Upgrade effectiveness curves (diminishing returns)\n    upgradeEffectiveness: {\n      skillGain: {\n        base: 4.5, // average skill gain\n        variance: 1.5, // random variance\n        diminishingFactor: 0.95, // 5% reduction per training\n      },\n      pcPowerGain: {\n        base: 9, // average power gain\n        variance: 3, // random variance\n        diminishingFactor: 0.92, // 8% reduction per upgrade\n      },\n      pcStabilityGain: {\n        base: 1, // average stability gain\n        variance: 2, // random variance\n        diminishingFactor: 0.98, // 2% reduction per upgrade\n      },\n      \n      // Daily overhead costs\n      overhead: {\n        softwareLicense: {\n          perEditor: 25, // daily cost per editor\n          perPC: 15, // daily cost per PC\n        },\n        facility: {\n          baseCost: 200, // base daily facility cost\n          logarithmicFactor: 50, // additional cost per log scale of team size\n        }\n      },\n      \n      // Market cycle system\n      marketCycle: {\n        cycleLength: 7, // days between market cycles\n        boostMultiplier: 1.5, // payout multiplier for boosted job type\n        nerfMultiplier: 0.7, // payout multiplier for nerfed job type\n      },\n      \n      // Job completion and work mechanics\n      jobMechanics: {\n        graceWindow: {\n          threshold: 0.95, // 95% completion required for grace window\n          extraHours: 6, // additional hours allowed\n          payoutMultiplier: 0.8, // 80% of original payout\n          reputationLoss: 2, // reputation loss for using grace window\n        },\n        pcCrash: {\n          baseChance: 0.05, // 5% base crash chance per tick\n          stabilityFactor: 0.8, // stability reduces crash chance by this factor\n        },\n        burnout: {\n          threshold: 12, // hours worked before burnout starts\n          energyDrainMultiplier: 2.0, // accelerated energy drain during burnout\n        }\n      },\n      \n      // Meme events system\n      memeEvents: {\n        dailyChance: 0.0075, // 0.75% chance per day (0.5-1% range)\n        maxPerDay: 1, // maximum events per day\n        events: [\n          {\n            id: \"adobe_charge\",\n            title: \"Adobe Subscription Renewal\",\n            description: \"Your Adobe Creative Cloud subscription just auto-renewed... again.\",\n            cashDelta: -200,\n            color: \"text-red-400\",\n            icon: \"ðŸ’¸\"\n          },\n          {\n            id: \"topaz_renewal\",\n            title: \"Topaz Labs Renewal\",\n            description: \"Topaz Labs plugins need renewal. Time to pay the piper.\",\n            cashDelta: -200,\n            color: \"text-red-400\",\n            icon: \"ðŸ”Œ\"\n          },\n          {\n            id: \"hard_drive_recovery\",\n            title: \"Hard Drive Recovery\",\n            description: \"Critical project files corrupted. Emergency data recovery needed.\",\n            cashDelta: -1000,\n            color: \"text-red-500\",\n            icon: \"ðŸ’¾\"\n          },\n          {\n            id: \"rare_tip\",\n            title: \"Rare Client Tip\",\n            description: \"A grateful client left an unexpected tip for your amazing work!\",\n            cashDelta: 500,\n            color: \"text-green-400\",\n            icon: \"ðŸ’°\"\n          },\n          {\n            id: \"coffee_spill\",\n            title: \"Coffee Spill Incident\",\n            description: \"Someone spilled coffee on the new equipment. Again.\",\n            cashDelta: -150,\n            color: \"text-red-400\",\n            icon: \"â˜•\"\n          },\n          {\n            id: \"viral_moment\",\n            title: \"Viral Social Media Moment\",\n            description: \"Your work went viral! Unexpected exposure bonus.\",\n            cashDelta: 300,\n            color: \"text-green-400\",\n            icon: \"ðŸ“±\"\n          }\n        ]\n      },\n      \n      // Black market system\n      blackMarket: {\n        crackedPlugins: {\n          cost: 150, // cheap price for the risk\n          skillBoost: 15, // +15 skill for all editors\n          speedBoost: 0.3, // +0.3x speed for all editors\n          duration: 24, // 24 in-game hours\n          virusRisk: 0.05, // 5% chance of catastrophic virus\n          description: \"Cracked plugins from the dark web. Massive performance boost but high risk of system corruption.\"\n        }\n      },\n      \n      // Research system\n      research: {\n        baseCost: 500, // starting cost for research\n        costMultiplier: 1.5, // cost increases by 50% each purchase\n        maxLevel: 10, // maximum level for each research\n        upgrades: [\n          {\n            id: \"progress_boost\",\n            name: \"Workflow Optimization\",\n            description: \"Increase job progress by 5%\",\n            icon: \"âš¡\",\n            effect: \"progress\",\n            value: 0.05, // +5% progress\n            tooltip: \"+5% job progress speed\"\n          },\n          {\n            id: \"payout_boost\",\n            name: \"Client Relations\",\n            description: \"Increase job payouts by 3%\",\n            icon: \"ðŸ’°\",\n            effect: \"payout\",\n            value: 0.03, // +3% payout\n            tooltip: \"+3% job payouts\"\n          },\n          {\n            id: \"fail_penalty_reduction\",\n            name: \"Quality Assurance\",\n            description: \"Reduce failed job penalty by 10%\",\n            icon: \"ðŸ›¡ï¸\",\n            effect: \"failPenalty\",\n            value: 0.10, // -10% fail penalty\n            tooltip: \"-10% failed job penalty\"\n          },\n          {\n            id: \"energy_efficiency\",\n            name: \"Energy Management\",\n            description: \"Reduce energy drain by 5%\",\n            icon: \"ðŸ”‹\",\n            effect: \"energyDrain\",\n            value: 0.05, // -5% energy drain\n            tooltip: \"-5% editor energy drain\"\n          },\n          {\n            id: \"reputation_gain\",\n            name: \"Reputation Management\",\n            description: \"Increase reputation gain by 8%\",\n            icon: \"â­\",\n            effect: \"reputation\",\n            value: 0.08, // +8% reputation gain\n            tooltip: \"+8% reputation gain from jobs\"\n          }\n        ]\n      },\n      \n      // Prestige system\n      prestige: {\n        requirements: {\n          reputation: 100, // minimum reputation required\n          cash: 10000, // minimum cash required\n        },\n        perks: [\n          {\n            id: \"spawn_rate\",\n            name: \"Marketing Mastery\",\n            description: \"Increase job spawn rate by 2%\",\n            icon: \"ðŸ“ˆ\",\n            effect: \"spawnRate\",\n            value: 0.02, // +2% spawn rate\n            tooltip: \"+2% job spawn rate\"\n          },\n          {\n            id: \"salary_reduction\",\n            name: \"Negotiation Skills\",\n            description: \"Reduce editor salaries by 3%\",\n            icon: \"ðŸ’¼\",\n            effect: \"salaryReduction\",\n            value: 0.03, // -3% salary costs\n            tooltip: \"-3% editor salary costs\"\n          },\n          {\n            id: \"training_efficiency\",\n            name: \"Learning Optimization\",\n            description: \"Increase training effectiveness by 5%\",\n            icon: \"ðŸŽ“\",\n            effect: \"trainingEfficiency\",\n            value: 0.05, // +5% training effectiveness\n            tooltip: \"+5% training skill gain\"\n          },\n          {\n            id: \"pc_efficiency\",\n            name: \"Hardware Mastery\",\n            description: \"Increase PC upgrade effectiveness by 4%\",\n            icon: \"ðŸ–¥ï¸\",\n            effect: \"pcEfficiency\",\n            value: 0.04, // +4% PC upgrade effectiveness\n            tooltip: \"+4% PC upgrade gains\"\n          },\n          {\n            id: \"energy_efficiency\",\n            name: \"Work-Life Balance\",\n            description: \"Reduce energy drain by 2%\",\n            icon: \"âš¡\",\n            effect: \"energyEfficiency\",\n            value: 0.02, // -2% energy drain\n            tooltip: \"-2% editor energy drain\"\n          }\n        ]\n      }\n    }\n  },\n  \n  // Marketing system\n  marketing: {\n    baseCost: 180,\n    costMultiplier: 1.5, // cost increases by 50% each use per day\n    maxUsesPerDay: 5, // maximum marketing uses per day\n    leadCount: {\n      min: 2,\n      max: 3 // sometimes spawn 3 leads instead of 2\n    }\n  },\n  \n  // Reputation tiers\n  reputationTiers: [\n    { name: \"Rookie\", min: 0, max: 9, color: \"text-green-400\" },\n    { name: \"Pro\", min: 10, max: 24, color: \"text-blue-400\" },\n    { name: \"Legend\", min: 25, max: 49, color: \"text-purple-400\" },\n    { name: \"Master\", min: 50, max: 89, color: \"text-orange-400\" },\n    { name: \"Icon\", min: 90, max: 999, color: \"text-red-400\" }\n  ],\n  \n  // Reputation unlocks\n  reputationUnlocks: [\n    { reputation: 10, description: \"Tier 2 Jobs unlocked\" },\n    { reputation: 25, description: \"Brand Contracts unlocked\" },\n    { reputation: 50, description: \"Tier 4 Jobs unlocked\" },\n    { reputation: 90, description: \"Tier 5 Jobs unlocked\" }\n  ],\n  \n  // Achievements system\n  achievements: {\n    flawlessDeliveries: {\n      id: \"flawless_deliveries\",\n      name: \"Perfect Editor\",\n      description: \"Complete 10 jobs with flawless quality\",\n      icon: \"âœ¨\",\n      requirement: 10,\n      color: \"text-yellow-400\"\n    },\n    largeTeam: {\n      id: \"large_team\",\n      name: \"Studio Boss\",\n      description: \"Have 50 staff members (editors + managers)\",\n      icon: \"ðŸ‘¥\",\n      requirement: 50,\n      color: \"text-blue-400\"\n    },\n    overnightJobs: {\n      id: \"overnight_jobs\",\n      name: \"Night Owl\",\n      description: \"Complete 5 jobs that took over 24 hours\",\n      icon: \"ðŸŒ™\",\n      requirement: 5,\n      color: \"text-purple-400\"\n    },\n    highReputation: {\n      id: \"high_reputation\",\n      name: \"Legendary Studio\",\n      description: \"Reach 200 reputation\",\n      icon: \"ðŸ†\",\n      requirement: 200,\n      color: \"text-orange-400\"\n    },\n    richStudio: {\n      id: \"rich_studio\",\n      name: \"Millionaire\",\n      description: \"Accumulate $50,000 cash\",\n      icon: \"ðŸ’°\",\n      requirement: 50000,\n      color: \"text-green-400\"\n    },\n    speedDemon: {\n      id: \"speed_demon\",\n      name: \"Speed Demon\",\n      description: \"Complete 20 jobs in under 8 hours each\",\n      icon: \"âš¡\",\n      requirement: 20,\n      color: \"text-red-400\"\n    },\n    qualityMaster: {\n      id: \"quality_master\",\n      name: \"Quality Master\",\n      description: \"Complete 30 jobs with quality above 90\",\n      icon: \"ðŸŽ¯\",\n      requirement: 30,\n      color: \"text-indigo-400\"\n    },\n    workaholic: {\n      id: \"workaholic\",\n      name: \"Workaholic\",\n      description: \"Have editors work for 48 consecutive hours\",\n      icon: \"ðŸ’ª\",\n      requirement: 48,\n      color: \"text-pink-400\"\n    },\n    marketCycler: {\n      id: \"market_cycler\",\n      name: \"Market Master\",\n      description: \"Experience 10 market cycles\",\n      icon: \"ðŸ“Š\",\n      requirement: 10,\n      color: \"text-cyan-400\"\n    },\n    researchMaster: {\n      id: \"research_master\",\n      name: \"Research Master\",\n      description: \"Max out 3 research categories\",\n      icon: \"ðŸ”¬\",\n      requirement: 3,\n      color: \"text-emerald-400\"\n    }\n  }\n};\n\n// ==================== Types ====================\nconst BRANDS = [\n  \"Porsche 911 GT3 RS\",\n  \"Lamborghini Aventador\",\n  \"Ferrari 488 Pista\",\n  \"McLaren 765LT\",\n  \"Aston Martin Valhalla\",\n  \"Nissan GTâ€‘R R35\",\n  \"Toyota Supra\",\n  \"BMW M3 (G80)\",\n  \"Audi RS6\",\n  \"Ford Mustang GT\",\n  \"Chevrolet Corvette C8\",\n  \"Mazda RXâ€‘7\",\n  \"Subaru WRX STI\",\n  \"Honda NSX\",\n  \"Koenigsegg Jesko\",\n  \"Czinger 21C\",\n];\n\n// ==================== Job Tier System ====================\nconst JOB_TIERS = [\n  { name: \"Tier 1\", reputationRequired: 0, multiplier: 1.0, color: \"text-green-400\" },\n  { name: \"Tier 2\", reputationRequired: 10, multiplier: 1.2, color: \"text-blue-400\" },\n  { name: \"Tier 3\", reputationRequired: 25, multiplier: 1.4, color: \"text-purple-400\" },\n  { name: \"Tier 4\", reputationRequired: 50, multiplier: 1.6, color: \"text-orange-400\" },\n  { name: \"Tier 5\", reputationRequired: 90, multiplier: 2.0, color: \"text-red-400\" },\n];\n\nconst JOB_TYPES = [\n  { name: \"Reel (30s)\", baseHours: 8, basePay: 350, diff: 35, tier: 1 },\n  { name: \"Montage (60s)\", baseHours: 16, basePay: 800, diff: 55, tier: 2 },\n  { name: \"Ad (15s)\", baseHours: 10, basePay: 650, diff: 60, tier: 2 },\n  { name: \"Event Recap (90s)\", baseHours: 24, basePay: 1600, diff: 70, tier: 3 },\n  { name: \"Cinematic (2m)\", baseHours: 30, basePay: 2200, diff: 80, tier: 4 },\n];\n\n// ==================== Friends Pool ====================\nconst FRIEND_NAMES = [\n  \"06._media\", \"trusionmedia\", \"pfreecreative\", \"mxhmedia\", \"rjxspeed\", \"wokeroto\", \"_valfilms_\", \"_gabrielhausen_\", \"vive.dts\", \"stephan.edits\", \"heronalexandru\", \"greg.marshall5.0\", \"dmooremedia\", \"fastlanegfx\", \"gtr._.auto\", \"shotxninja\", \"alx.edits\", \"_nightoff_\", \"jerz_pics\", \"_cfilms_\", \"sxorps\", \"fd.revv\", \"wheelersmedia\", \"exquisitemedia_\", \"danishedits\", \"unrxndered\", \"maty.media_\", \"djordanmedia\", \"kaizenvisualz_\", \"mediabytom\", \"r6wyatt\", \"crownwasfound\", \"feltsfilms\", \"kalebbrokaw\", \"instaflickz\", \"pasalu.jpg\", \"gtsknoow\", \"jasevisions\", \"fivo.mp4\", \"360.mediaedits\", \"jry.media\", \"xpseqo\", \"hellrotgarage\", \"mconcow\", \"flipvisuals\", \"fizzfpv\", \"district.jp\", \"ouamlil\", \"rohhse.tm\", \"alex.efex\", \"mastro.media\", \"dragonchill.vfx\", \"j.r._.media\", \"xe6at\", \"ascn.co\", \"oliver.br_\", \"pascalsteinhaus\", \"willberg.works\", \"jayp.cars\", \"bs.visualss\", \"farzinnoorani\", \"redman_productions\", \"editbyrzaw\", \"timk7.5\", \"rift.clb\", \"js.swed\", \"lo2.film\", \"hawaiian.media\", \"nolanchannon\", \"jsc.media_\", \"jerzmedia\", \"bakhorr\", \"noah_woodrow\", \"_havisuals\", \"_hunter_clarke_\", \"josh.mda\", \"keanu.visuals\", \"danny_aep\", \"openiris\", \"leemelon.jr\", \"krome.media\", \"sammy_mediaa\", \"danielpetermedia\", \"favgraphs\", \"romavag_fx\", \"d2_shots\", \"sutra.edits\", \"zodashotz\", \"n.k_media\", \"reese_productions\", \"gabut.fx\", \"gelographics\", \"paulxhowie\", \"tijs_media\", \"knoxy_media\", \"nickjonasmedia\", \"m6a.edits\", \"swiz.prod\", \"tsmalls.co\", \"hardest.fx\", \"ezra.media\", \"chancetheshooter\", \"sxt.media\", \"iceymedia\", \"motionvid\", \"youre.icon\", \"rs3btw\", \"bylance\", \"mxvframes\", \"speedramps\", \"ken_miso\", \"mediabyjuan\"\n];\n\nconst FRIEND_BASE = { skill: 60, speed: 1.0, salary: 120 };\n\n// ==================== Shop Catalog ====================\nconst UPGRADES = [\n  { id: \"jerryflow\",   name: \"JerryFlow V2\",  desc: \"Workflow accelerator â€” +0.10 editor speed.\", cost: 240, speedBonus: 0.10 },\n  { id: \"essentialfx\", name: \"ESSENTIALFX\",   desc: \"Preset & FX pack â€” +0.05 editor speed.\", cost: 250, speedBonus: 0.05 },\n  { id: \"jerrysfx\",    name: \"JerrySFX\",      desc: \"Sound pack â€” +0.05 editor speed.\",         cost: 90,  speedBonus: 0.05 },\n  { id: \"essentialsfx\",name: \"ESSENTIALSFX\",  desc: \"Core whooshes & hits â€” +0.05 editor speed.\",cost: 80,  speedBonus: 0.05 },\n  { id: \"ghflow\",      name: \"GH Glow (v1)\",  desc: \"After Effects extension â€” +0.10 editor speed.\", cost: 50,  speedBonus: 0.10 },\n  { id: \"districtjp\",  name: \"district.jp membership\", desc: \"More inbound work â€” +0.05 spawn rate & +2 lead cap.\", cost: 900, spawnBonus: 0.05, leadCapBonus: 2 },\n];\n\n// ==================== Utils ====================\nconst rnd = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\nconst clamp = (v, min, max) => Math.max(min, Math.min(max, v));\nconst uid = () => Math.random().toString(36).slice(2, 9);\n\n// ==================== Models ====================\nfunction makeStarterEditors() {\n  // Start with no editors so you hire only from the friends pool\n  return [];\n}\n\nfunction makeStarterPCs() {\n  return [\n    { id: uid(), name: \"PCâ€‘01\", tier: 1, power: 55, stability: 92, assignedJobId: null },\n  ];\n}\n\nfunction randomClientJob(tick, availableJobTypes, getJobPayout) {\n  const t = availableJobTypes[rnd(0, availableJobTypes.length - 1)];\n  const difficulty = clamp(t.diff + rnd(-10, 15), 20, 95);\n  const hours = clamp(Math.round(t.baseHours * (0.75 + Math.random() * 0.8)), 4, 48);\n  const basePayout = Math.round((t.basePay + rnd(-120, 250)) * (0.9 + difficulty / 200));\n  const payout = getJobPayout(t, basePayout);\n  const deadline = tick + Math.round(hours * (1.15 + Math.random() * 0.9));\n  return {\n    id: uid(),\n    clientName: randomClientName(),\n    brand: BRANDS[rnd(0, BRANDS.length - 1)],\n    type: t.name,\n    difficulty,\n    timeRequired: hours, // in ticks (1 tick = 1 hour)\n    payout,\n    deadline,\n    progress: 0,\n    status: \"available\", // available | active | done | failed\n    accepted: false,\n    assignedEditorId: null,\n    assignedPCId: null,\n  };\n}\n\nfunction randomClientName() {\n  const first = [\"Tom\", \"Ava\", \"Blake\", \"Mia\", \"Ezra\", \"Leo\", \"Noah\", \"Isla\", \"Zara\", \"Luca\", \"Aria\", \"Mason\", \"Kai\", \"Nate\", \"Sophie\"]; \n  const last = [\"Francis\", \"Evans\", \"Ngata\", \"Singh\", \"Cohen\", \"Kaur\", \"Patel\", \"Martin\", \"Brown\", \"Lee\", \"Silva\", \"Wright\", \"King\", \"Green\"]; \n  const biz = [\"Motors\", \"Supercars\", \"Detailing\", \"Media\", \"Club\", \"Racing\", \"Collective\", \"Auto\", \"Films\", \"Garage\"]; \n  return `${first[rnd(0, first.length - 1)]} ${last[rnd(0, last.length - 1)]} ${biz[rnd(0, biz.length - 1)]}`;\n}\n\n// ==================== Component ====================\nexport default function CarEditorTycoon() {\n  // Core state\n  const [tick, setTick] = useState(0); // 1 tick = 1 inâ€‘game hour\n  const [playing, setPlaying] = useState(false);\n  const [speed, setSpeed] = useState(1); // ticks per second\n\n  const [cash, setCash] = useState(1000);\n  const [reputation, setReputation] = useState(0);\n  const [autoAssign, setAutoAssign] = useState(true);\n\n  const [editors, setEditors] = useState(() => loadLS(\"editors\", makeStarterEditors()));\n  const [pcs, setPCs] = useState(() => loadLS(\"pcs\", makeStarterPCs()));\n  const [jobs, setJobs] = useState(() => loadLS(\"jobs\", []));\n  const [eventLog, setEventLog] = useState(() => loadLS(\"log\", [\"Welcome to Car Editor Tycoon! Accept jobs, assign your team, and build a legendary studio.\"]));\n\n  const [offerCooldown, setOfferCooldown] = useState(0);\n  const [baseSpawnRate] = useState(0.22); // base chance per tick to spawn a client\n  const [purchased, setPurchased] = useState(() => new Set(loadLS(\"upgrades\", [])));\n\n  const [revenueHistory, setRevenueHistory] = useState(() => loadLS(\"revhist\", []));\n\n  // Save/Load state\n  const [lastAutosave, setLastAutosave] = useState(0);\n  const [cloudBackupStatus, setCloudBackupStatus] = useState(null); // null, \"loading\", \"success\", \"error\"\n\n  // Team management state\n  const [managers, setManagers] = useState(() => loadLS(\"managers\", 0));\n  const [devOverlay, setDevOverlay] = useState(false);\n  \n  // Upgrade tracking state\n  const [editorTrainingCount, setEditorTrainingCount] = useState(() => loadLS(\"editorTrainingCount\", {}));\n  const [pcUpgradeCount, setPCUpgradeCount] = useState(() => loadLS(\"pcUpgradeCount\", {}));\n  \n  // Market cycle state\n  const [marketCycle, setMarketCycle] = useState(() => loadLS(\"marketCycle\", {\n    boostedType: null,\n    nerfedType: null,\n    cycleStartDay: 1,\n    currentCycle: 1\n  }));\n  \n  // Work mechanics state\n  const [editorWorkHours, setEditorWorkHours] = useState(() => loadLS(\"editorWorkHours\", {}));\n  const [graceWindowJobs, setGraceWindowJobs] = useState(() => loadLS(\"graceWindowJobs\", new Set()));\n  \n  // Meme events state\n  const [memeEventState, setMemeEventState] = useState(() => loadLS(\"memeEventState\", {\n    lastEventDay: 0,\n    eventsToday: 0,\n    lastEventId: null\n  }));\n  const [activeMemeEvent, setActiveMemeEvent] = useState(null);\n  \n  // Black market state\n  const [blackMarketEffects, setBlackMarketEffects] = useState(() => loadLS(\"blackMarketEffects\", {\n    active: false,\n    expiresAt: 0,\n    skillBoost: 0,\n    speedBoost: 0\n  }));\n  const [virusWarning, setVirusWarning] = useState(false);\n  const [virusCountdown, setVirusCountdown] = useState(3);\n  \n  // Research state\n  const [researchLevels, setResearchLevels] = useState(() => loadLS(\"researchLevels\", {}));\n  const [showResearchPanel, setShowResearchPanel] = useState(false);\n  \n  // Prestige state\n  const [prestigePoints, setPrestigePoints] = useState(() => loadLS(\"prestigePoints\", 0));\n  const [seasonHighRep, setSeasonHighRep] = useState(() => loadLS(\"seasonHighRep\", 0));\n  const [showPrestigeModal, setShowPrestigeModal] = useState(false);\n  \n  // Achievements state\n  const [achievements, setAchievements] = useState(() => loadLS(\"achievements\", new Set()));\n  const [achievementStats, setAchievementStats] = useState(() => loadLS(\"achievementStats\", {\n    flawlessDeliveries: 0,\n    overnightJobs: 0,\n    speedDemonJobs: 0,\n    qualityMasterJobs: 0,\n    maxWorkHours: 0,\n    marketCycles: 0,\n    maxResearchCategories: 0\n  }));\n  const [showAchievementsPanel, setShowAchievementsPanel] = useState(false);\n  \n  // API state\n  const [leaderboardData, setLeaderboardData] = useState([]);\n  const [leaderboardLoading, setLeaderboardLoading] = useState(false);\n  const [leaderboardError, setLeaderboardError] = useState(null);\n  const [submitRunStatus, setSubmitRunStatus] = useState(null);\n  const [requestHandleStatus, setRequestHandleStatus] = useState(null);\n  const [currentRoute, setCurrentRoute] = useState('game'); // 'game' or 'leaderboard'\n  const [requestHandleForm, setRequestHandleForm] = useState({\n    email: '',\n    preferredHandle: ''\n  });\n  \n  // Health check state\n  const [lastHealthCheck, setLastHealthCheck] = useState(0);\n  const [healthCheckWarning, setHealthCheckWarning] = useState(null);\n  const [shadowSave, setShadowSave] = useState(null);\n  const [softClampWarnings, setSoftClampWarnings] = useState([]);\n  \n  // Dev parameter detection\n  const urlParams = new URLSearchParams(window.location.search);\n  const isDevMode = urlParams.get('dev') === '1';\n  const currentHandle = urlParams.get('handle') || null;\n  const isOwner = CONFIG.ownerHandle && currentHandle === CONFIG.ownerHandle;\n  const showDevFeatures = isDevMode || isOwner;\n\n  // Dev command palette state\n  const [showCommandPalette, setShowCommandPalette] = useState(false);\n  const [commandInput, setCommandInput] = useState('');\n  const [commandHistory, setCommandHistory] = useState([]);\n  const [commandHistoryIndex, setCommandHistoryIndex] = useState(-1);\n  \n  // Changelog state\n  const [changelog, setChangelog] = useState(() => loadLS(\"changelog\", []));\n  const [showChangelog, setShowChangelog] = useState(false);\n  \n  // Performance monitoring state\n  const [performanceMetrics, setPerformanceMetrics] = useState({\n    fps: 0,\n    renderTime: 0,\n    tickTime: 0,\n    memoryUsage: 0,\n    renderCount: 0,\n    lastFrameTime: 0\n  });\n  const [performanceWarnings, setPerformanceWarnings] = useState([]);\n\n  // Run summary generation\n  const generateRunSummary = () => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    \n    // Set canvas size\n    canvas.width = 800;\n    canvas.height = 600;\n    \n    // Background gradient\n    const gradient = ctx.createLinearGradient(0, 0, 0, 600);\n    gradient.addColorStop(0, '#1a1a1a');\n    gradient.addColorStop(1, '#0a0a0a');\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, 800, 600);\n    \n    // Title\n    ctx.fillStyle = '#ffffff';\n    ctx.font = 'bold 48px Arial';\n    ctx.textAlign = 'center';\n    ctx.fillText('Car Editor Tycoon', 400, 80);\n    ctx.fillText('Run Summary', 400, 130);\n    \n    // Stats grid\n    const stats = [\n      { label: 'Team Size', value: `${editors.length} editors`, icon: 'ðŸ‘¥' },\n      { label: 'Equipment', value: `${pcs.length} PCs`, icon: 'ðŸ–¥ï¸' },\n      { label: 'Reputation', value: `${reputation}`, icon: 'â­' },\n      { label: 'Cash', value: `$${cash.toLocaleString()}`, icon: 'ðŸ’°' },\n      { label: 'Season', value: `Day ${Math.floor(tick / 24)}`, icon: 'ðŸ“…' },\n      { label: 'Prestige', value: `${prestigePoints} points`, icon: 'ðŸŒŸ' }\n    ];\n    \n    ctx.font = 'bold 24px Arial';\n    ctx.textAlign = 'left';\n    \n    stats.forEach((stat, index) => {\n      const row = Math.floor(index / 2);\n      const col = index % 2;\n      const x = 100 + col * 300;\n      const y = 200 + row * 80;\n      \n      // Icon\n      ctx.font = '32px Arial';\n      ctx.fillText(stat.icon, x, y);\n      \n      // Label\n      ctx.font = 'bold 20px Arial';\n      ctx.fillStyle = '#888888';\n      ctx.fillText(stat.label, x + 50, y - 10);\n      \n      // Value\n      ctx.font = 'bold 28px Arial';\n      ctx.fillStyle = '#ffffff';\n      ctx.fillText(stat.value, x + 50, y + 15);\n    });\n    \n    // Achievements\n    if (achievements.size > 0) {\n      ctx.font = 'bold 24px Arial';\n      ctx.fillStyle = '#ffffff';\n      ctx.textAlign = 'center';\n      ctx.fillText('ðŸ† Achievements', 400, 420);\n      \n      ctx.font = '16px Arial';\n      ctx.fillStyle = '#cccccc';\n      const achievementList = Array.from(achievements).slice(0, 3);\n      achievementList.forEach((achievementId, index) => {\n        const achievement = CONFIG.achievements[achievementId];\n        if (achievement) {\n          ctx.fillText(`${achievement.icon} ${achievement.name}`, 400, 450 + index * 25);\n        }\n      });\n    }\n    \n    // Footer\n    ctx.font = '14px Arial';\n    ctx.fillStyle = '#666666';\n    ctx.textAlign = 'center';\n    ctx.fillText(`Generated on ${new Date().toLocaleDateString()}`, 400, 580);\n    \n    // Download the image\n    canvas.toBlob((blob) => {\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `car-editor-tycoon-run-${Date.now()}.png`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      \n      pushLog(\"ðŸ“¸ Run summary image generated and downloaded!\");\n    });\n  };\n  \n  // Marketing state\n  const [marketingUsage, setMarketingUsage] = useState(() => loadLS(\"marketingUsage\", {\n    lastUseDay: 0,\n    usesToday: 0\n  }));\n\n  // Persist\n  useEffect(() => { saveLS(\"editors\", editors); }, [editors]);\n  useEffect(() => { saveLS(\"pcs\", pcs); }, [pcs]);\n  useEffect(() => { saveLS(\"jobs\", jobs); }, [jobs]);\n  useEffect(() => { saveLS(\"log\", eventLog); }, [eventLog]);\n  useEffect(() => { saveLS(\"revhist\", revenueHistory); }, [revenueHistory]);\n  useEffect(() => { saveLS(\"upgrades\", Array.from(purchased)); }, [purchased]);\n  useEffect(() => { saveLS(\"managers\", managers); }, [managers]);\n  useEffect(() => { saveLS(\"editorTrainingCount\", editorTrainingCount); }, [editorTrainingCount]);\n  useEffect(() => { saveLS(\"pcUpgradeCount\", pcUpgradeCount); }, [pcUpgradeCount]);\n  useEffect(() => { saveLS(\"marketCycle\", marketCycle); }, [marketCycle]);\n  useEffect(() => { saveLS(\"editorWorkHours\", editorWorkHours); }, [editorWorkHours]);\n  useEffect(() => { saveLS(\"graceWindowJobs\", Array.from(graceWindowJobs)); }, [graceWindowJobs]);\n  useEffect(() => { saveLS(\"memeEventState\", memeEventState); }, [memeEventState]);\n  useEffect(() => { saveLS(\"blackMarketEffects\", blackMarketEffects); }, [blackMarketEffects]);\n  useEffect(() => { saveLS(\"researchLevels\", researchLevels); }, [researchLevels]);\n  useEffect(() => { saveLS(\"prestigePoints\", prestigePoints); }, [prestigePoints]);\n  useEffect(() => { saveLS(\"seasonHighRep\", seasonHighRep); }, [seasonHighRep]);\n  useEffect(() => { saveLS(\"achievements\", Array.from(achievements)); }, [achievements]);\n  useEffect(() => { saveLS(\"achievementStats\", achievementStats); }, [achievementStats]);\n  useEffect(() => { saveLS(\"marketingUsage\", marketingUsage); }, [marketingUsage]);\n\n  // DEV: storage roundâ€‘trip (test case)\n  useEffect(() => {\n    const sample = { msg: \"Unicode test Î² â€” â€¢ ðŸš—\", path: \"C:\\\\Users\\\\Alex\\\\Videos\\\\auto_reel\\\\clip.mp4\" };\n    saveLS(\"__test__\", sample);\n    const got = loadLS(\"__test__\", null);\n    const ok = got && got.msg === sample.msg && got.path === sample.path;\n    setEventLog((prev) => [timeStr(), ok ? \"âœ… Storage test passed\" : \"âŒ Storage test failed\", ...prev]);\n    try { localStorage.removeItem(KEY_PREFIX + \"__test__\"); } catch {}\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Additional runtime tests (added)\n  useEffect(() => {\n    const hired = new Set(editors.map((e) => e.name));\n    const remaining = FRIEND_NAMES.filter((n) => !hired.has(n));\n    const unique = hired.size === editors.length;\n    const inPool = editors.every((e) => FRIEND_NAMES.includes(e.name));\n    const ok = unique && inPool && remaining.every((n) => !hired.has(n));\n    setEventLog((prev) => [timeStr(), ok ? \"âœ… Hire-pool tests passed\" : `âŒ Hire-pool tests failed: ${JSON.stringify({ unique, inPool, remainingCount: remaining.length })}`, ...prev]);\n    // run once\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Autosave every 10 ticks\n  useEffect(() => {\n    if (tick > 0 && tick % CONFIG.autosaveInterval === 0 && tick !== lastAutosave) {\n      setLastAutosave(tick);\n      pushLog(\"ðŸ’¾ Autosaved game progress.\");\n    }\n  }, [tick, lastAutosave]);\n\n  // Autosave on app blur\n  useEffect(() => {\n    const handleBlur = () => {\n      if (tick > 0) {\n        pushLog(\"ðŸ’¾ Autosaved on app blur.\");\n      }\n    };\n    window.addEventListener('blur', handleBlur);\n    return () => window.removeEventListener('blur', handleBlur);\n  }, [tick]);\n\n  // Command palette keyboard handling\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      // Only handle if not typing in an input field\n      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {\n        return;\n      }\n      \n      if (e.key === CONFIG.dev.commandPaletteHotkey && showDevFeatures) {\n        e.preventDefault();\n        setShowCommandPalette(true);\n        setCommandInput('');\n        setCommandHistoryIndex(-1);\n      }\n    };\n    \n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [showDevFeatures]);\n\n  // Derived upgrade effects\n  const effects = useMemo(() => {\n    let speedBonus = 0;\n    let spawnBonus = 0;\n    let leadCapBonus = 0;\n    purchased.forEach((id) => {\n      const u = UPGRADES.find((x) => x.id === id);\n      if (!u) return;\n      if (u.speedBonus) speedBonus += u.speedBonus;\n      if (u.spawnBonus) spawnBonus += u.spawnBonus;\n      if (u.leadCapBonus) leadCapBonus += u.leadCapBonus;\n    });\n    return { speedBonus, spawnBonus, leadCapBonus };\n  }, [purchased]);\n\n  const spawnRate = clamp(baseSpawnRate + effects.spawnBonus + getPrestigeSpawnRateBonus(), 0, 0.95);\n  const leadCap = 6 + effects.leadCapBonus;\n\n  // Memoized expensive calculations\n  const memoizedCalculations = useMemo(() => {\n    if (!CONFIG.dev.performance.memoizeExpensive) {\n      return {\n        teamEfficiency: Math.max(0.35, 1 - (editors.length - 10) * 0.02),\n        dailySalaries: getDailySalaries(),\n        dailyOverhead: getDailyOverhead(),\n        availableJobTypes: getAvailableJobTypes(),\n        currentReputationTier: getCurrentReputationTier(),\n        nextReputationUnlock: getNextReputationUnlock()\n      };\n    }\n    \n    return measurePerformance(() => ({\n      teamEfficiency: Math.max(0.35, 1 - (editors.length - 10) * 0.02),\n      dailySalaries: getDailySalaries(),\n      dailyOverhead: getDailyOverhead(),\n      availableJobTypes: getAvailableJobTypes(),\n      currentReputationTier: getCurrentReputationTier(),\n      nextReputationUnlock: getNextReputationUnlock()\n    }), 'memoized calculations').result;\n  }, [editors.length, jobs.length, managers, researchLevels, reputation, CONFIG.dev.performance.memoizeExpensive]);\n\n  // Virtualized lists for large datasets\n  const visibleJobs = useMemo(() => {\n    if (!CONFIG.dev.performance.virtualizeLists) {\n      return jobs;\n    }\n    return jobs.slice(0, CONFIG.dev.performance.maxVisibleJobs);\n  }, [jobs, CONFIG.dev.performance.virtualizeLists]);\n\n  const visibleEditors = useMemo(() => {\n    if (!CONFIG.dev.performance.virtualizeLists) {\n      return editors;\n    }\n    return editors.slice(0, CONFIG.dev.performance.maxVisibleEditors);\n  }, [editors, CONFIG.dev.performance.virtualizeLists]);\n\n  const visiblePCs = useMemo(() => {\n    if (!CONFIG.dev.performance.virtualizeLists) {\n      return pcs;\n    }\n    return pcs.slice(0, CONFIG.dev.performance.maxVisiblePCs);\n  }, [pcs, CONFIG.dev.performance.virtualizeLists]);\n\n  // Game loop\n  const loopRef = useRef(null);\n  useEffect(() => {\n    if (!playing) {\n      if (loopRef.current) clearInterval(loopRef.current);\n      return;\n    }\n    loopRef.current = setInterval(() => { step(); }, 1000 / speed);\n    return () => clearInterval(loopRef.current);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [playing, speed, tick, jobs, editors, pcs, spawnRate, leadCap, effects.speedBonus]);\n\n  function step() {\n    const tickStart = performance.now();\n    \n    // Batch all state updates for this tick\n    const updates = [];\n    \n    updates.push(() => setTick((t) => t + 1));\n\n    // Run health check (every 7 in-game days)\n    if (tick % (CONFIG.healthCheck.interval * 24) === 0) {\n      measurePerformance(() => runHealthCheck(), 'health check');\n    }\n\n    // Update market cycle\n    measurePerformance(() => updateMarketCycle(), 'market cycle');\n    \n    // Check for meme events (once per day)\n    if (shouldTriggerMemeEvent()) {\n      measurePerformance(() => triggerMemeEvent(), 'meme event');\n    }\n    \n    // spawn new jobs randomly\n    const jobUpdates = measurePerformance(() => {\n      let next = [...jobs];\n      if (Math.random() < spawnRate && offerCooldown <= 0 && next.filter(j => j.status === \"available\").length < leadCap) {\n        const availableJobTypes = memoizedCalculations.availableJobTypes;\n        if (availableJobTypes.length > 0) {\n          next.unshift(randomClientJob(tick, availableJobTypes, getJobPayout));\n          updates.push(() => pushLog(\"ðŸ“ž New client inquiry - time to hustle!\"));\n          updates.push(() => setOfferCooldown(rnd(2, 6)));\n        }\n      }\n      return next.map(j => ({ ...j }));\n    }, 'job spawning');\n    \n    updates.push(() => setJobs(jobUpdates.result));\n    updates.push(() => setOfferCooldown((c) => Math.max(0, c - 1)));\n\n    // progress active jobs\n    const jobProgressUpdates = measurePerformance(() => {\n      const next = jobs.map((job) => {\n        if (job.status !== \"active\") return job;\n        const ed = editors.find((e) => e.id === job.assignedEditorId);\n        const pc = pcs.find((p) => p.id === job.assignedPCId);\n        if (!ed || !pc || ed.resting) return job;\n        \n        // Check if editor is still onboarding\n        const isOnboarding = ed.onboardingComplete && tick < ed.onboardingComplete;\n        const onboardingMultiplier = isOnboarding ? 0.3 : 1.0; // 30% efficiency during onboarding\n        \n        // PC crash mechanics\n        const crashChance = getPCCrashChance(pc);\n        const crash = Math.random() < crashChance ? rnd(1, 2) : 0;\n        \n        const speedMul = (1 + (ed.speed - 1) + (pc.power - 50) / 100 + effects.speedBonus + getBlackMarketSpeedBoost());\n        const baseGain = clamp(1 * speedMul - crash, 0, 4);\n        \n        // Apply team efficiency, onboarding, and research boosts\n        const researchBoost = 1 + getGlobalProgressBoost();\n        const finalGain = baseGain * memoizedCalculations.teamEfficiency * onboardingMultiplier * researchBoost;\n        const newProgress = job.progress + finalGain;\n        return { ...job, progress: newProgress };\n      });\n\n      // job completion & deadlines\n      const completedJobs = [];\n      const failedJobs = [];\n      const graceWindowJobs = [];\n      \n      next.forEach((job) => {\n        if (job.status === \"active\" && job.progress >= job.timeRequired) {\n          completedJobs.push(job.id);\n        }\n        if ((job.status === \"active\" || job.status === \"available\") && tick >= job.deadline) {\n          // Check for grace window eligibility\n          if (isGraceWindowEligible(job)) {\n            // Apply grace window\n            graceWindowJobs.push(job.id);\n            updates.push(() => pushLog(`â° ${job.type} gets a grace window! +${CONFIG.balance.jobMechanics.graceWindow.extraHours}h extension granted.`));\n          } else if (tick >= getGraceWindowDeadline(job)) {\n            // Grace window expired\n            failedJobs.push({ id: job.id, reason: \"Grace window expired\" });\n          } else if (tick > job.deadline) {\n            // Still in grace window, don't fail yet\n            return;\n          } else {\n            // No grace window, fail immediately\n            failedJobs.push({ id: job.id, reason: \"Missed deadline\" });\n          }\n        }\n      });\n      \n      // Batch job state updates\n      if (completedJobs.length > 0) {\n        updates.push(() => completedJobs.forEach(id => completeJob(id)));\n      }\n      if (failedJobs.length > 0) {\n        updates.push(() => failedJobs.forEach(({ id, reason }) => failJob(id, reason)));\n      }\n      if (graceWindowJobs.length > 0) {\n        updates.push(() => setGraceWindowJobs(prev => new Set([...prev, ...graceWindowJobs])));\n      }\n      \n      return next;\n    }, 'job progress');\n    \n    updates.push(() => setJobs(jobProgressUpdates.result));\n\n    // auto rest/regen logic for editors\n    const editorUpdates = measurePerformance(() => {\n      const newEditors = editors.map((e) => {\n        const resting = e.resting ?? false;\n        if (!e.assignedJobId) {\n          if (e.energy < 100) return { ...e, resting: false, energy: clamp(e.energy + 1, 0, 100) };\n          return { ...e, resting: false };\n        }\n        if (resting) {\n          const newEnergy = clamp(e.energy + (3), 0, 100);\n          const done = newEnergy >= 100;\n          if (done) {\n            updates.push(() => pushLog(`â˜• ${e.name} is back from coffee break - recharged and ready to edit!`));\n            // Reset work hours when fully rested\n            updates.push(() => setEditorWorkHours(prev => ({ ...prev, [e.id]: 0 })));\n          }\n          return { ...e, energy: newEnergy, resting: !done };\n        } else {\n          // Track work hours and apply burnout\n          const currentWorkHours = editorWorkHours[e.id] || 0;\n          const newWorkHours = currentWorkHours + 1;\n          updates.push(() => setEditorWorkHours(prev => ({ ...prev, [e.id]: newWorkHours })));\n          \n          // Track workaholic achievement\n          updates.push(() => setAchievementStats(prev => ({\n            ...prev,\n            maxWorkHours: Math.max(prev.maxWorkHours, newWorkHours)\n          })));\n          \n          const burnoutMultiplier = getBurnoutEnergyDrain(e.id);\n          const researchEfficiency = 1 - getGlobalEnergyEfficiency();\n          const prestigeEfficiency = 1 - getPrestigeEnergyEfficiency();\n          const energyDrain = Math.round(1 * burnoutMultiplier * researchEfficiency * prestigeEfficiency);\n          const newEnergy = clamp(e.energy - energyDrain, 0, 100);\n          const goRest = newEnergy <= 15;\n          if (goRest) updates.push(() => pushLog(`â˜• ${e.name} needs a coffee break - even editors need caffeine!`));\n          return { ...e, energy: newEnergy, resting: goRest };\n        }\n      });\n      \n      return newEditors;\n    }, 'editor updates');\n    \n    updates.push(() => setEditors(editorUpdates.result));\n\n    // passive salary and overhead each day (every 24 ticks)\n    if ((tick + 1) % 24 === 0) {\n      const dailyExpenses = measurePerformance(() => {\n        const dailySalaries = memoizedCalculations.dailySalaries;\n        const dailyOverhead = memoizedCalculations.dailyOverhead;\n        const totalDaily = dailySalaries + dailyOverhead;\n        if (totalDaily > 0) {\n          updates.push(() => setCash((c) => c - totalDaily));\n          updates.push(() => pushLog(`ðŸ’¸ Daily burn: -$${totalDaily.toLocaleString()} (salaries: $${dailySalaries.toLocaleString()}, overhead: $${dailyOverhead.toLocaleString()})`));\n        }\n        return { dailySalaries, dailyOverhead, totalDaily };\n      }, 'daily expenses');\n    }\n    \n    // Execute all batched updates\n    const tickEnd = performance.now();\n    const tickDuration = tickEnd - tickStart;\n    \n    if (tickDuration > CONFIG.dev.performance.maxTickTime) {\n      console.warn(`Tick performance warning: ${tickDuration.toFixed(2)}ms`);\n      setPerformanceWarnings(prev => [...prev.slice(-4), { label: 'tick processing', duration: tickDuration, timestamp: Date.now() }]);\n    }\n    \n    // Update performance metrics\n    updatePerformanceMetrics();\n    \n    // Batch all state updates\n    batchStateUpdates(updates);\n  }\n\n  // ==================== Job actions ====================\n  function acceptJob(id) {\n    setJobs((prev) => prev.map((j) => (j.id === id ? { ...j, accepted: true, status: \"active\" } : j)));\n          pushLog(\"âœ… Job accepted - let's make some magic happen!\");\n    if (autoAssign) autoAssignJob(id);\n  }\n\n  function autoAssignJob(jobId) {\n    setJobs((prevJobs) => {\n      const job = prevJobs.find((j) => j.id === jobId);\n      if (!job) return prevJobs;\n      const freeEd = editors.find((e) => !e.assignedJobId && e.energy >= 30);\n      const freePC = pcs.find((p) => !p.assignedJobId);\n      if (freeEd && freePC) {\n        assign(jobId, freeEd.id, freePC.id);\n      }\n      return prevJobs;\n    });\n  }\n\n  function assign(jobId, editorId, pcId) {\n    setEditors((prev) => prev.map((e) => (e.id === editorId ? { ...e, assignedJobId: jobId } : e)));\n    setPCs((prev) => prev.map((p) => (p.id === pcId ? { ...p, assignedJobId: jobId } : p)));\n    setJobs((prev) => prev.map((j) => (j.id === jobId ? { ...j, assignedEditorId: editorId, assignedPCId: pcId } : j)));\n          pushLog(`ðŸ‘¥ ${editorName(editorId)} assigned to ${pcName(pcId)} - dream team activated!`);\n  }\n\n  function unassign(jobId) {\n    const job = jobs.find((j) => j.id === jobId);\n    if (!job) return;\n    setEditors((prev) => prev.map((e) => (e.assignedJobId === jobId ? { ...e, assignedJobId: null } : e)));\n    setPCs((prev) => prev.map((p) => (p.assignedJobId === jobId ? { ...p, assignedJobId: null } : p)));\n    setJobs((prev) => prev.map((j) => (j.id === jobId ? { ...j, assignedEditorId: null, assignedPCId: null } : j)));\n          pushLog(\"ðŸ”„ Team unassigned - ready for the next challenge!\");\n  }\n\n  function completeJob(jobId) {\n    const job = jobs.find((j) => j.id === jobId);\n    if (!job) return;\n    const ed = editors.find((e) => e.id === job.assignedEditorId);\n    const pc = pcs.find((p) => p.id === job.assignedPCId);\n    const quality = Math.round((ed?.skill ?? 40 + getBlackMarketSkillBoost()) * 0.6 + (pc?.power ?? 50) * 0.4 + rnd(-10, 15));\n    const passed = quality >= job.difficulty;\n    \n    // Check if job was completed in grace window\n    const usedGraceWindow = graceWindowJobs.has(jobId);\n    let pay = passed ? job.payout : Math.round(job.payout * 0.5);\n    \n    // Apply research effects\n    const payoutBoost = 1 + getGlobalPayoutBoost();\n    const failPenaltyReduction = 1 - getGlobalFailPenaltyReduction();\n    const reputationBoost = 1 + getGlobalReputationBoost();\n    \n    if (usedGraceWindow) {\n      pay = Math.round(pay * CONFIG.balance.jobMechanics.graceWindow.payoutMultiplier * payoutBoost);\n      setReputation((r) => clamp(r - CONFIG.balance.jobMechanics.graceWindow.reputationLoss, -50, 999));\n              pushLog(`â° ${job.type} completed in grace window! Reduced payout but saved the day (-${CONFIG.balance.jobMechanics.graceWindow.reputationLoss} rep).`);\n    } else {\n      pay = Math.round(pay * payoutBoost);\n      const repChange = passed ? 3 : Math.round(-4 * failPenaltyReduction);\n      setReputation((r) => clamp(r + Math.round(repChange * reputationBoost), -50, 999));\n    }\n\n    setCash((c) => c + pay);\n    setRevenueHistory((h) => [...h.slice(-59), { t: tick, v: pay }]);\n\n    // free assignments\n    unassign(jobId);\n    setJobs((prev) => prev.map((j) => (j.id === jobId ? { ...j, status: \"done\" } : j)));\n    \n    // Remove from grace window set\n    if (usedGraceWindow) {\n      setGraceWindowJobs(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(jobId);\n        return newSet;\n      });\n    }\n\n            pushLog(`ðŸŽ¬ ${job.type} for ${job.brand} delivered! ${passed ? \"ðŸ”¥ Amazing quality\" : \"ðŸ˜… Decent effort\"} - +$${pay.toLocaleString()}`);\n    \n    // Track achievement stats\n    const jobDuration = tick - (job.deadline - job.timeRequired);\n    const jobQuality = quality;\n    \n    setAchievementStats(prev => {\n      const newStats = { ...prev };\n      \n      // Track flawless deliveries (quality >= difficulty)\n      if (passed) {\n        newStats.flawlessDeliveries += 1;\n      }\n      \n      // Track overnight jobs (>24 hours)\n      if (jobDuration > 24) {\n        newStats.overnightJobs += 1;\n      }\n      \n      // Track speed demon jobs (<8 hours)\n      if (jobDuration < 8) {\n        newStats.speedDemonJobs += 1;\n      }\n      \n      // Track quality master jobs (quality > 90)\n      if (jobQuality > 90) {\n        newStats.qualityMasterJobs += 1;\n      }\n      \n      return newStats;\n    });\n    \n    // Check for new achievements\n    setTimeout(checkAchievements, 100);\n  }\n\n  function failJob(jobId, reason = \"\") {\n    const job = jobs.find((j) => j.id === jobId);\n    if (!job) return;\n    unassign(jobId);\n    setJobs((prev) => prev.map((j) => (j.id === jobId ? { ...j, status: \"failed\" } : j)));\n    setReputation((r) => clamp(r - 6, -50, 999));\n            pushLog(`ðŸ’¥ Job failed${reason ? ` - ${reason}` : \"\"}! Reputation takes a hit (-6).`);\n  }\n\n  // ==================== Company actions ====================\n  function getRemainingFriends() {\n    const hired = new Set(editors.map((e) => e.name));\n    return FRIEND_NAMES.filter((n) => !hired.has(n));\n  }\n\n  function hireEditor() {\n    const cost = getHireEditorCost();\n    if (cash < cost) return toast(\"Not enough cash to hire.\");\n    const remaining = getRemainingFriends();\n    if (remaining.length === 0) return toast(\"All friends already hired.\");\n    const pick = remaining[Math.floor(Math.random() * remaining.length)];\n\n    // Calculate onboarding time\n    const onboardingHours = CONFIG.balance.onboardingBaseHours + (editors.length * CONFIG.balance.onboardingScalingFactor);\n    const onboardingComplete = tick + onboardingHours;\n\n    const e = {\n      id: uid(),\n      name: pick,\n      skill: FRIEND_BASE.skill,\n      speed: FRIEND_BASE.speed,\n      energy: 100,\n      salary: FRIEND_BASE.salary,\n      assignedJobId: null,\n      resting: false,\n      onboardingComplete, // when they become fully productive\n    };\n    setEditors((prev) => [...prev, e]);\n    setCash((c) => c - cost);\n          pushLog(`ðŸŽ‰ Welcome ${e.name} to the team! Onboarding complete in ${onboardingHours}h.`);\n  }\n\n  function hireManager() {\n    const cost = 2000 + managers * 500;\n    if (cash < cost) return toast(\"Not enough cash to hire manager.\");\n    \n    const availableSlots = CONFIG.balance.managerUnlockThresholds.filter(threshold => editors.length >= threshold).length;\n    if (managers >= availableSlots) return toast(\"No manager slots available.\");\n    if (managers >= CONFIG.balance.maxManagers) return toast(\"Maximum managers reached.\");\n    \n    setManagers(prev => prev + 1);\n    setCash(c => c - cost);\n          pushLog(`ðŸ‘” Manager #${managers + 1} hired! Team efficiency boosted - time to level up!`);\n  }\n\n  function buyPC() {\n    const cost = getBuyPCCost();\n    if (cash < cost) return toast(\"Not enough cash for a new PC.\");\n    const p = {\n      id: uid(),\n      name: `PCâ€‘${String(pcs.length + 1).padStart(2, \"0\")}`,\n      tier: 1,\n      power: rnd(52, 70),\n      stability: rnd(88, 96),\n      assignedJobId: null,\n    };\n    setPCs((prev) => [...prev, p]);\n    setCash((c) => c - cost);\n          pushLog(`ðŸ–¥ï¸ ${p.name} purchased! Power level: ${p.power} - let's crush some pixels!`);\n  }\n\n  function trainEditor(id) {\n    const cost = getTrainEditorCost(id);\n    if (cash < cost) return toast(\"Not enough cash to train.\");\n    \n    const baseSkillGain = getSkillGain(id);\n    const prestigeBonus = 1 + getPrestigeTrainingEfficiency();\n    const skillGain = Math.round(baseSkillGain * prestigeBonus);\n    setEditors((prev) => prev.map((e) => (e.id === id ? { ...e, skill: clamp(e.skill + skillGain, 20, 99) } : e)));\n    setEditorTrainingCount((prev) => ({ ...prev, [id]: (prev[id] || 0) + 1 }));\n    setCash((c) => c - cost);\n          pushLog(`ðŸŽ“ Training complete! +${skillGain} skill points earned - knowledge is power!`);\n  }\n\n  function upgradePC(id) {\n    const cost = getUpgradePCCost(id);\n    if (cash < cost) return toast(\"Not enough cash to upgrade.\");\n    \n    const basePowerGain = getPCPowerGain(id);\n    const baseStabilityGain = getPCStabilityGain(id);\n    const prestigeBonus = 1 + getPrestigePCEfficiency();\n    const powerGain = Math.round(basePowerGain * prestigeBonus);\n    const stabilityGain = Math.round(baseStabilityGain * prestigeBonus);\n    \n    setPCs((prev) => prev.map((p) => (p.id === id ? { \n      ...p, \n      tier: p.tier + 1, \n      power: clamp(p.power + powerGain, 45, 120), \n      stability: clamp(p.stability + stabilityGain, 70, 99) \n    } : p)));\n    setPCUpgradeCount((prev) => ({ ...prev, [id]: (prev[id] || 0) + 1 }));\n    setCash((c) => c - cost);\n          pushLog(`âš¡ PC upgraded! +${powerGain} power, +${stabilityGain} stability - beast mode activated!`);\n  }\n\n  // SHOP: buy permanent upgrades\n  function buyUpgrade(id) {\n    if (purchased.has(id)) return toast(\"Already owned.\");\n    const u = UPGRADES.find((x) => x.id === id);\n    if (!u) return;\n    if (cash < u.cost) return toast(\"Not enough cash.\");\n    setCash((c) => c - u.cost);\n    setPurchased((prev) => new Set([...Array.from(prev), id]));\n    pushLog(`Purchased ${u.name}.`);\n  }\n\n  function runMarketing() {\n    const cost = getMarketingCost();\n    if (cash < cost) return toast(\"Not enough cash for marketing.\");\n    if (!canUseMarketing()) return toast(\"Daily marketing limit reached.\");\n    \n    setCash((c) => c - cost);\n    \n    // Update marketing usage\n    setMarketingUsage(prev => ({\n      ...prev,\n      usesToday: prev.usesToday + 1\n    }));\n    \n    setJobs((prev) => {\n      const next = [...prev];\n      const availableJobTypes = getAvailableJobTypes();\n      if (availableJobTypes.length > 0) {\n        const leadCount = getMarketingLeadCount();\n        for (let i = 0; i < leadCount; i++) {\n          next.unshift(randomClientJob(tick, availableJobTypes, getJobPayout));\n        }\n      }\n      return next;\n    });\n    \n    const leadCount = getMarketingLeadCount();\n          pushLog(`ðŸ“¢ Marketing blast sent! ${leadCount} new leads generated - clients are calling!`);\n  }\n\n  function resetGame() {\n    if (!confirm(\"Reset your studio?\")) return;\n    setTick(0);\n    setPlaying(false);\n    setSpeed(1);\n    setCash(1000);\n    setReputation(0);\n    setAutoAssign(true);\n    setEditors(makeStarterEditors());\n    setPCs(makeStarterPCs());\n    setJobs([]);\n    setPurchased(new Set());\n    setManagers(0);\n    setEditorTrainingCount({});\n    setPCUpgradeCount({});\n    setMarketCycle({\n      boostedType: null,\n      nerfedType: null,\n      cycleStartDay: 1,\n      currentCycle: 1\n    });\n    setEditorWorkHours({});\n    setGraceWindowJobs(new Set());\n    setMemeEventState({\n      lastEventDay: 0,\n      eventsToday: 0,\n      lastEventId: null\n    });\n    setActiveMemeEvent(null);\n    setBlackMarketEffects({\n      active: false,\n      expiresAt: 0,\n      skillBoost: 0,\n      speedBoost: 0\n    });\n    setVirusWarning(false);\n    setVirusCountdown(3);\n    setResearchLevels({});\n    setShowResearchPanel(false);\n    setShowPrestigeModal(false);\n    setShowAchievementsPanel(false);\n    setMarketingUsage({\n      lastUseDay: 0,\n      usesToday: 0\n    });\n    setLastHealthCheck(0);\n    setHealthCheckWarning(null);\n    setShadowSave(null);\n    setSoftClampWarnings([]);\n    setCommandHistory([]);\n    setChangelog([]);\n    setPerformanceMetrics({\n      fps: 0,\n      renderTime: 0,\n      tickTime: 0,\n      memoryUsage: 0,\n      renderCount: 0,\n      lastFrameTime: 0\n    });\n    setPerformanceWarnings([]);\n    setEventLog([\"Welcome to Car Editor Tycoon! Accept jobs, assign your team, and build a legendary studio.\"]);\n    setRevenueHistory([]);\n    pushLog(\"New game started.\");\n  }\n\n  // ==================== Save/Load Functions ====================\n  function exportSave() {\n    const saveData = {\n      version: CONFIG.gameVersion,\n      timestamp: Date.now(),\n      gameState: {\n        tick,\n        playing,\n        speed,\n        cash,\n        reputation,\n        autoAssign,\n        editors,\n        pcs,\n        jobs,\n        eventLog,\n        offerCooldown,\n        purchased: Array.from(purchased),\n        revenueHistory,\n        lastAutosave,\n        managers,\n        editorTrainingCount,\n        pcUpgradeCount,\n        marketCycle,\n        editorWorkHours,\n        graceWindowJobs: Array.from(graceWindowJobs),\n        memeEventState,\n        blackMarketEffects,\n        researchLevels,\n        prestigePoints,\n        seasonHighRep,\n        achievements: Array.from(achievements),\n        achievementStats,\n        marketingUsage,\n        lastHealthCheck,\n        healthCheckWarning,\n        shadowSave,\n        softClampWarnings\n      }\n    };\n    \n    const json = JSON.stringify(saveData, null, 2);\n    const blob = new Blob([json], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `car-editor-tycoon-save-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    pushLog(\"ðŸ’¾ Save file exported successfully.\");\n  }\n\n  function importSave() {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    input.onchange = (e) => {\n      const file = e.target.files[0];\n      if (!file) return;\n      \n      const reader = new FileReader();\n      reader.onload = (event) => {\n        try {\n          const saveData = JSON.parse(event.target.result);\n          \n          // Validate version\n          if (saveData.version !== CONFIG.gameVersion) {\n            const proceed = confirm(`Save version mismatch!\\n\\nSave version: ${saveData.version}\\nCurrent version: ${CONFIG.gameVersion}\\n\\nThis may cause compatibility issues. Continue anyway?`);\n            if (!proceed) return;\n          }\n          \n          // Show diff preview\n          const currentState = {\n            cash,\n            reputation,\n            editors: editors.length,\n            pcs: pcs.length,\n            jobs: jobs.length,\n            purchased: purchased.size\n          };\n          \n          const newState = {\n            cash: saveData.gameState.cash,\n            reputation: saveData.gameState.reputation,\n            editors: saveData.gameState.editors.length,\n            pcs: saveData.gameState.pcs.length,\n            jobs: saveData.gameState.jobs.length,\n            purchased: saveData.gameState.purchased.length\n          };\n          \n          const diff = Object.keys(currentState).map(key => {\n            const oldVal = currentState[key];\n            const newVal = newState[key];\n            const change = newVal - oldVal;\n            return `${key}: ${oldVal} â†’ ${newVal} (${change >= 0 ? '+' : ''}${change})`;\n          }).join('\\n');\n          \n          const proceed = confirm(`Import save file?\\n\\n${diff}\\n\\nThis will overwrite your current game. Continue?`);\n          if (!proceed) return;\n          \n          // Apply save data\n          setTick(saveData.gameState.tick);\n          setPlaying(saveData.gameState.playing);\n          setSpeed(saveData.gameState.speed);\n          setCash(saveData.gameState.cash);\n          setReputation(saveData.gameState.reputation);\n          setAutoAssign(saveData.gameState.autoAssign);\n          setEditors(saveData.gameState.editors);\n          setPCs(saveData.gameState.pcs);\n          setJobs(saveData.gameState.jobs);\n          setEventLog(saveData.gameState.eventLog);\n          setOfferCooldown(saveData.gameState.offerCooldown);\n          setPurchased(new Set(saveData.gameState.purchased));\n          setRevenueHistory(saveData.gameState.revenueHistory);\n          setLastAutosave(saveData.gameState.lastAutosave || 0);\n          setManagers(saveData.gameState.managers || 0);\n          setEditorTrainingCount(saveData.gameState.editorTrainingCount || {});\n          setPCUpgradeCount(saveData.gameState.pcUpgradeCount || {});\n          setMarketCycle(saveData.gameState.marketCycle || {\n            boostedType: null,\n            nerfedType: null,\n            cycleStartDay: 1,\n            currentCycle: 1\n          });\n          setEditorWorkHours(saveData.gameState.editorWorkHours || {});\n          setGraceWindowJobs(new Set(saveData.gameState.graceWindowJobs || []));\n          setMemeEventState(saveData.gameState.memeEventState || {\n            lastEventDay: 0,\n            eventsToday: 0,\n            lastEventId: null\n          });\n          setBlackMarketEffects(saveData.gameState.blackMarketEffects || {\n            active: false,\n            expiresAt: 0,\n            skillBoost: 0,\n            speedBoost: 0\n          });\n          setResearchLevels(saveData.gameState.researchLevels || {});\n          setPrestigePoints(saveData.gameState.prestigePoints || 0);\n          setSeasonHighRep(saveData.gameState.seasonHighRep || 0);\n          setAchievements(new Set(saveData.gameState.achievements || []));\n          setAchievementStats(saveData.gameState.achievementStats || {\n            flawlessDeliveries: 0,\n            overnightJobs: 0,\n            speedDemonJobs: 0,\n            qualityMasterJobs: 0,\n            maxWorkHours: 0,\n            marketCycles: 0,\n            maxResearchCategories: 0\n          });\n              setMarketingUsage(saveData.gameState.marketingUsage || {\n      lastUseDay: 0,\n      usesToday: 0\n    });\n    setLastHealthCheck(saveData.gameState.lastHealthCheck || 0);\n    setHealthCheckWarning(saveData.gameState.healthCheckWarning || null);\n    setShadowSave(saveData.gameState.shadowSave || null);\n    setSoftClampWarnings(saveData.gameState.softClampWarnings || []);\n    setCommandHistory(saveData.gameState.commandHistory || []);\n    setChangelog(saveData.gameState.changelog || []);\n    setPerformanceMetrics(saveData.gameState.performanceMetrics || {\n      fps: 0,\n      renderTime: 0,\n      tickTime: 0,\n      memoryUsage: 0,\n      renderCount: 0,\n      lastFrameTime: 0\n    });\n    setPerformanceWarnings(saveData.gameState.performanceWarnings || []);\n          \n          pushLog(\"ðŸ’¾ Save file imported successfully.\");\n        } catch (error) {\n          toast(\"Invalid save file format.\");\n          console.error(\"Import error:\", error);\n        }\n      };\n      reader.readAsText(file);\n    };\n    input.click();\n  }\n\n  async function cloudBackup() {\n    if (!CONFIG.cloudBackupUrl) {\n      toast(\"Cloud backup URL not configured.\");\n      return;\n    }\n    \n    setCloudBackupStatus(\"loading\");\n    \n    try {\n      const saveData = {\n        version: CONFIG.gameVersion,\n        timestamp: Date.now(),\n        gameState: {\n          tick,\n          playing,\n          speed,\n          cash,\n          reputation,\n          autoAssign,\n          editors,\n          pcs,\n          jobs,\n          eventLog,\n          offerCooldown,\n          purchased: Array.from(purchased),\n          revenueHistory,\n          lastAutosave\n        }\n      };\n      \n      const response = await fetch(CONFIG.cloudBackupUrl, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(saveData)\n      });\n      \n      if (response.ok) {\n        setCloudBackupStatus(\"success\");\n        pushLog(\"â˜ï¸ Cloud backup successful.\");\n        setTimeout(() => setCloudBackupStatus(null), 3000);\n      } else {\n        throw new Error(`HTTP ${response.status}`);\n      }\n    } catch (error) {\n      setCloudBackupStatus(\"error\");\n      pushLog(\"âŒ Cloud backup failed.\");\n      console.error(\"Cloud backup error:\", error);\n      setTimeout(() => setCloudBackupStatus(null), 3000);\n    }\n  }\n\n  // ==================== Derived ====================\n  const day = Math.floor(tick / 24) + 1;\n  const available = visibleJobs.filter((j) => j.status === \"available\");\n  const active = visibleJobs.filter((j) => j.status === \"active\");\n  const done = visibleJobs.filter((j) => j.status === \"done\");\n  const failed = visibleJobs.filter((j) => j.status === \"failed\");\n\n  const repTier = useMemo(() => (reputation >= 60 ? \"Legend\" : reputation >= 30 ? \"Pro\" : reputation >= 10 ? \"Solid\" : reputation >= 0 ? \"Rookie\" : \"Risky\"), [reputation]);\n\n  // Team efficiency calculations\n  const teamEfficiency = useMemo(() => {\n    const editorCount = editors.length;\n    \n    // Base efficiency (100% for small teams)\n    let efficiency = 1.0;\n    \n    // Apply decay after threshold\n    if (editorCount > CONFIG.balance.efficiencyDecayStart) {\n      const excessEditors = editorCount - CONFIG.balance.efficiencyDecayStart;\n      const decay = excessEditors * CONFIG.balance.efficiencyDecayRate;\n      efficiency = Math.max(CONFIG.balance.efficiencyMin, 1.0 - decay);\n    }\n    \n    // Manager bonuses\n    const managerBonus = managers * CONFIG.balance.managerEfficiencyBonus;\n    efficiency = Math.min(1.0, efficiency + managerBonus);\n    \n    return efficiency;\n  }, [editors.length, managers]);\n\n  // Manager availability\n  const availableManagerSlots = CONFIG.balance.managerUnlockThresholds.filter(threshold => editors.length >= threshold).length;\n  const canHireManager = managers < availableManagerSlots && managers < CONFIG.balance.maxManagers;\n\n  // Cost calculation helpers\n  const getHireEditorCost = () => {\n    return Math.round(CONFIG.balance.hireEditor.baseCost * Math.pow(CONFIG.balance.hireEditor.scalingFactor, editors.length));\n  };\n\n  const getBuyPCCost = () => {\n    return Math.round(CONFIG.balance.buyPC.baseCost * Math.pow(CONFIG.balance.buyPC.scalingFactor, pcs.length));\n  };\n\n  const getTrainEditorCost = (editorId) => {\n    const currentCount = editorTrainingCount[editorId] || 0;\n    return Math.round(CONFIG.balance.trainEditor.baseCost * Math.pow(CONFIG.balance.trainEditor.scalingFactor, currentCount));\n  };\n\n  const getUpgradePCCost = (pcId) => {\n    const currentCount = pcUpgradeCount[pcId] || 0;\n    return Math.round(CONFIG.balance.upgradePC.baseCost * Math.pow(CONFIG.balance.upgradePC.scalingFactor, currentCount));\n  };\n\n  // Upgrade effectiveness helpers\n  const getSkillGain = (editorId) => {\n    const currentCount = editorTrainingCount[editorId] || 0;\n    const diminishingFactor = Math.pow(CONFIG.balance.upgradeEffectiveness.skillGain.diminishingFactor, currentCount);\n    const baseGain = CONFIG.balance.upgradeEffectiveness.skillGain.base * diminishingFactor;\n    const variance = CONFIG.balance.upgradeEffectiveness.skillGain.variance;\n    return Math.round(baseGain + rnd(-variance, variance));\n  };\n\n  const getPCPowerGain = (pcId) => {\n    const currentCount = pcUpgradeCount[pcId] || 0;\n    const diminishingFactor = Math.pow(CONFIG.balance.upgradeEffectiveness.pcPowerGain.diminishingFactor, currentCount);\n    const baseGain = CONFIG.balance.upgradeEffectiveness.pcPowerGain.base * diminishingFactor;\n    const variance = CONFIG.balance.upgradeEffectiveness.pcPowerGain.variance;\n    return Math.round(baseGain + rnd(-variance, variance));\n  };\n\n  const getPCStabilityGain = (pcId) => {\n    const currentCount = pcUpgradeCount[pcId] || 0;\n    const diminishingFactor = Math.pow(CONFIG.balance.upgradeEffectiveness.pcStabilityGain.diminishingFactor, currentCount);\n    const baseGain = CONFIG.balance.upgradeEffectiveness.pcStabilityGain.base * diminishingFactor;\n    const variance = CONFIG.balance.upgradeEffectiveness.pcStabilityGain.variance;\n    return Math.round(baseGain + rnd(-variance, variance));\n  };\n\n  // Daily overhead calculation helpers\n  const getDailyOverhead = () => {\n    const softwareCost = (editors.length * CONFIG.balance.overhead.softwareLicense.perEditor) + \n                        (pcs.length * CONFIG.balance.overhead.softwareLicense.perPC);\n    const facilityCost = CONFIG.balance.overhead.facility.baseCost + \n                        (Math.log(editors.length + pcs.length + 1) * CONFIG.balance.overhead.facility.logarithmicFactor);\n    return Math.round(softwareCost + facilityCost);\n  };\n\n  const getDailySalaries = () => {\n    const salaryReduction = 1 - getPrestigeSalaryReduction();\n    const editorSalaries = editors.reduce((sum, e) => sum + (e.salary * salaryReduction), 0);\n    const managerSalaries = managers * CONFIG.balance.managerSalary;\n    return Math.round(editorSalaries + managerSalaries);\n  };\n\n  const getProjectedNextDayCash = () => {\n    const dailySalaries = getDailySalaries();\n    const dailyOverhead = getDailyOverhead();\n    const totalDailyBurn = dailySalaries + dailyOverhead;\n    return cash - totalDailyBurn;\n  };\n\n  const isPayrollRisk = () => {\n    return getProjectedNextDayCash() < 0;\n  };\n\n  // Job tier and market cycle helpers\n  const getCurrentJobTier = () => {\n    return JOB_TIERS.find(tier => reputation >= tier.reputationRequired) || JOB_TIERS[0];\n  };\n\n  const getAvailableJobTypes = () => {\n    const currentTier = getCurrentJobTier();\n    return JOB_TYPES.filter(job => job.tier <= currentTier.reputationRequired);\n  };\n\n  const getJobPayout = (jobType, basePayout) => {\n    let payout = basePayout;\n    \n    // Apply tier multiplier\n    const tier = JOB_TIERS.find(t => t.reputationRequired >= jobType.tier) || JOB_TIERS[0];\n    payout *= tier.multiplier;\n    \n    // Apply market cycle multipliers\n    if (marketCycle.boostedType === jobType.name) {\n      payout *= CONFIG.balance.marketCycle.boostMultiplier;\n    } else if (marketCycle.nerfedType === jobType.name) {\n      payout *= CONFIG.balance.marketCycle.nerfMultiplier;\n    }\n    \n    return Math.round(payout);\n  };\n\n  const updateMarketCycle = () => {\n    const daysSinceCycleStart = day - marketCycle.cycleStartDay;\n    if (daysSinceCycleStart >= CONFIG.balance.marketCycle.cycleLength) {\n      // Roll new market cycle\n      const availableTypes = JOB_TYPES.map(job => job.name);\n      const boostedType = availableTypes[Math.floor(Math.random() * availableTypes.length)];\n      let nerfedType;\n      do {\n        nerfedType = availableTypes[Math.floor(Math.random() * availableTypes.length)];\n      } while (nerfedType === boostedType);\n      \n      setMarketCycle({\n        boostedType,\n        nerfedType,\n        cycleStartDay: day,\n        currentCycle: marketCycle.currentCycle + 1\n      });\n      \n      // Track market cycles achievement\n      setAchievementStats(prev => ({\n        ...prev,\n        marketCycles: prev.marketCycles + 1\n      }));\n      \n      pushLog(`ðŸ“ˆ Market cycle ${marketCycle.currentCycle + 1}: ${boostedType} boosted, ${nerfedType} nerfed.`);\n    }\n  };\n\n  // Work mechanics helpers\n  const getPCCrashChance = (pc) => {\n    const baseChance = CONFIG.balance.jobMechanics.pcCrash.baseChance;\n    const stabilityReduction = (pc.stability / 100) * CONFIG.balance.jobMechanics.pcCrash.stabilityFactor;\n    return Math.max(0, baseChance - stabilityReduction);\n  };\n\n  const isEditorBurnout = (editorId) => {\n    const workHours = editorWorkHours[editorId] || 0;\n    return workHours > CONFIG.balance.jobMechanics.burnout.threshold;\n  };\n\n  const getBurnoutEnergyDrain = (editorId) => {\n    if (isEditorBurnout(editorId)) {\n      return CONFIG.balance.jobMechanics.burnout.energyDrainMultiplier;\n    }\n    return 1.0;\n  };\n\n  const isGraceWindowEligible = (job) => {\n    const progress = job.progress / job.timeRequired;\n    return progress >= CONFIG.balance.jobMechanics.graceWindow.threshold && \n           !graceWindowJobs.has(job.id) &&\n           tick >= job.deadline;\n  };\n\n  const getGraceWindowDeadline = (job) => {\n    return job.deadline + CONFIG.balance.jobMechanics.graceWindow.extraHours;\n  };\n\n  // Meme events helpers\n  const getCurrentDay = () => Math.floor(tick / 24);\n  \n  const shouldTriggerMemeEvent = () => {\n    const currentDay = getCurrentDay();\n    const lastEventDay = memeEventState.lastEventDay;\n    const eventsToday = memeEventState.eventsToday;\n    \n    // Reset daily counter if it's a new day\n    if (currentDay > lastEventDay) {\n      setMemeEventState(prev => ({\n        ...prev,\n        lastEventDay: currentDay,\n        eventsToday: 0\n      }));\n      return false;\n    }\n    \n    // Check if we can trigger an event today\n    if (eventsToday >= CONFIG.balance.memeEvents.maxPerDay) {\n      return false;\n    }\n    \n    // Roll for event\n    return Math.random() < CONFIG.balance.memeEvents.dailyChance;\n  };\n  \n  const triggerMemeEvent = () => {\n    const events = CONFIG.balance.memeEvents.events;\n    const randomEvent = events[Math.floor(Math.random() * events.length)];\n    \n    // Apply cash delta\n    setCash(prev => prev + randomEvent.cashDelta);\n    \n    // Update state\n    setMemeEventState(prev => ({\n      ...prev,\n      eventsToday: prev.eventsToday + 1,\n      lastEventId: randomEvent.id\n    }));\n    \n    // Show modal\n    setActiveMemeEvent(randomEvent);\n    \n    // Log to studio feed\n    const sign = randomEvent.cashDelta > 0 ? \"+\" : \"\";\n    pushLog(`${randomEvent.icon} ${randomEvent.title}: ${sign}$${Math.abs(randomEvent.cashDelta)}`);\n    \n    // Auto-hide modal after 3 seconds\n    setTimeout(() => {\n      setActiveMemeEvent(null);\n    }, 3000);\n  };\n\n  // Black market helpers\n  const isBlackMarketActive = () => {\n    return blackMarketEffects.active && tick < blackMarketEffects.expiresAt;\n  };\n\n  const getBlackMarketSkillBoost = () => {\n    return isBlackMarketActive() ? blackMarketEffects.skillBoost : 0;\n  };\n\n  const getBlackMarketSpeedBoost = () => {\n    return isBlackMarketActive() ? blackMarketEffects.speedBoost : 0;\n  };\n\n  const buyCrackedPlugins = () => {\n    if (cash < CONFIG.balance.blackMarket.crackedPlugins.cost) {\n      pushLog(\"âŒ Not enough cash for cracked plugins.\");\n      return;\n    }\n\n    // Deduct cost\n    setCash(prev => prev - CONFIG.balance.blackMarket.crackedPlugins.cost);\n\n    // Apply effects\n    const expiresAt = tick + CONFIG.balance.blackMarket.crackedPlugins.duration;\n    setBlackMarketEffects({\n      active: true,\n      expiresAt: expiresAt,\n      skillBoost: CONFIG.balance.blackMarket.crackedPlugins.skillBoost,\n      speedBoost: CONFIG.balance.blackMarket.crackedPlugins.speedBoost\n    });\n\n    pushLog(\"ðŸ–¤ Cracked plugins installed. Massive performance boost active for 24h.\");\n\n    // Check for virus\n    if (Math.random() < CONFIG.balance.blackMarket.crackedPlugins.virusRisk) {\n      setTimeout(() => {\n        triggerVirus();\n      }, 2000); // 2 second delay for dramatic effect\n    }\n  };\n\n  const triggerVirus = () => {\n    setVirusWarning(true);\n    pushLog(\"ðŸš¨ WARNING: MALICIOUS CODE DETECTED! SYSTEM COMPROMISED!\");\n    \n    // Start countdown\n    const countdown = setInterval(() => {\n      setVirusCountdown(prev => {\n        if (prev <= 1) {\n          clearInterval(countdown);\n          // Force reset after countdown\n          setTimeout(() => {\n            resetGame();\n            setVirusWarning(false);\n            setVirusCountdown(3);\n          }, 1000);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  const handleVirusExport = () => {\n    exportSave();\n    pushLog(\"ðŸ’¾ Emergency save exported before system reset.\");\n  };\n\n  // Research helpers\n  const getResearchLevel = (researchId) => {\n    return researchLevels[researchId] || 0;\n  };\n\n  const getResearchCost = (researchId) => {\n    const level = getResearchLevel(researchId);\n    if (level >= CONFIG.balance.research.maxLevel) return Infinity;\n    return Math.round(CONFIG.balance.research.baseCost * Math.pow(CONFIG.balance.research.costMultiplier, level));\n  };\n\n  const getResearchEffect = (researchId) => {\n    const research = CONFIG.balance.research.upgrades.find(u => u.id === researchId);\n    if (!research) return 0;\n    return getResearchLevel(researchId) * research.value;\n  };\n\n  const buyResearch = (researchId) => {\n    const cost = getResearchCost(researchId);\n    if (cash < cost) {\n      pushLog(\"âŒ Not enough cash for research.\");\n      return;\n    }\n\n    const research = CONFIG.balance.research.upgrades.find(u => u.id === researchId);\n    if (!research) return;\n\n    // Deduct cost\n    setCash(prev => prev - cost);\n\n    // Increase level\n    setResearchLevels(prev => ({\n      ...prev,\n      [researchId]: (prev[researchId] || 0) + 1\n    }));\n\n    // Track research master achievement\n    const maxedCategories = Object.values(researchLevels).filter(level => level >= CONFIG.balance.research.maxLevel).length;\n    setAchievementStats(prev => ({\n      ...prev,\n      maxResearchCategories: Math.max(prev.maxResearchCategories, maxedCategories + 1)\n    }));\n\n    pushLog(`ðŸ”¬ ${research.name} upgraded to level ${getResearchLevel(researchId) + 1}.`);\n  };\n\n  // Global effect calculations\n  const getGlobalProgressBoost = () => getResearchEffect(\"progress_boost\");\n  const getGlobalPayoutBoost = () => getResearchEffect(\"payout_boost\");\n  const getGlobalFailPenaltyReduction = () => getResearchEffect(\"fail_penalty_reduction\");\n  const getGlobalEnergyEfficiency = () => getResearchEffect(\"energy_efficiency\");\n  const getGlobalReputationBoost = () => getResearchEffect(\"reputation_gain\");\n\n  // Prestige helpers\n  const canPrestige = () => {\n    return reputation >= CONFIG.balance.prestige.requirements.reputation && \n           cash >= CONFIG.balance.prestige.requirements.cash;\n  };\n\n  const getPrestigePerkEffect = (perkId) => {\n    const perk = CONFIG.balance.prestige.perks.find(p => p.id === perkId);\n    if (!perk) return 0;\n    return prestigePoints * perk.value;\n  };\n\n  const getPrestigeSpawnRateBonus = () => getPrestigePerkEffect(\"spawn_rate\");\n  const getPrestigeSalaryReduction = () => getPrestigePerkEffect(\"salary_reduction\");\n  const getPrestigeTrainingEfficiency = () => getPrestigePerkEffect(\"training_efficiency\");\n  const getPrestigePCEfficiency = () => getPrestigePerkEffect(\"pc_efficiency\");\n  const getPrestigeEnergyEfficiency = () => getPrestigePerkEffect(\"energy_efficiency\");\n\n  const performPrestige = () => {\n    if (!canPrestige()) {\n      pushLog(\"âŒ Cannot prestige: need Rep 100+ and $10,000+ cash.\");\n      return;\n    }\n\n    // Update season high reputation\n    if (reputation > seasonHighRep) {\n      setSeasonHighRep(reputation);\n    }\n\n    // Add prestige point\n    setPrestigePoints(prev => prev + 1);\n\n    // Reset game state\n    resetGame();\n\n    // Keep prestige data\n    setPrestigePoints(prestigePoints + 1);\n    setSeasonHighRep(Math.max(seasonHighRep, reputation));\n\n      pushLog(\"ðŸŒŸ PRESTIGE COMPLETE! You've earned 1 Prestige Point and unlocked meta perks!\");\n  setShowPrestigeModal(false);\n};\n\n// Marketing helpers\nconst getMarketingCost = () => {\n  const currentDay = Math.floor(tick / 24);\n  \n  // Reset daily usage if it's a new day\n  if (currentDay > marketingUsage.lastUseDay) {\n    setMarketingUsage({\n      lastUseDay: currentDay,\n      usesToday: 0\n    });\n    return CONFIG.marketing.baseCost;\n  }\n  \n  // Calculate cost based on daily usage\n  return Math.round(CONFIG.marketing.baseCost * Math.pow(CONFIG.marketing.costMultiplier, marketingUsage.usesToday));\n};\n\nconst canUseMarketing = () => {\n  const currentDay = Math.floor(tick / 24);\n  \n  // Reset daily usage if it's a new day\n  if (currentDay > marketingUsage.lastUseDay) {\n    setMarketingUsage({\n      lastUseDay: currentDay,\n      usesToday: 0\n    });\n    return true;\n  }\n  \n  return marketingUsage.usesToday < CONFIG.marketing.maxUsesPerDay;\n};\n\nconst getMarketingLeadCount = () => {\n  return Math.random() < 0.3 ? CONFIG.marketing.leadCount.max : CONFIG.marketing.leadCount.min; // 30% chance for 3 leads\n};\n\n// Reputation helpers\nconst getCurrentReputationTier = () => {\n  return CONFIG.reputationTiers.find(tier => reputation >= tier.min && reputation <= tier.max) || CONFIG.reputationTiers[0];\n};\n\nconst getNextReputationUnlock = () => {\n  return CONFIG.reputationUnlocks.find(unlock => reputation < unlock.reputation);\n};\n\n// API helpers\nconst apiCall = async (url, options = {}, retryCount = 0) => {\n  if (!url) {\n    throw new Error('API endpoint not configured');\n  }\n\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), CONFIG.api.timeout);\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      signal: controller.signal,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      }\n    });\n\n    clearTimeout(timeoutId);\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n\n    return await response.json();\n  } catch (error) {\n    clearTimeout(timeoutId);\n    \n    if (error.name === 'AbortError') {\n      throw new Error('Request timed out');\n    }\n    \n    if (retryCount < 1) {\n      // Retry once after delay\n      await new Promise(resolve => setTimeout(resolve, CONFIG.api.retryDelay));\n      return apiCall(url, options, retryCount + 1);\n    }\n    \n    throw error;\n  }\n};\n\nconst submitRun = async (handle, rep, cash, jobsCompleted, funniestEvent) => {\n  if (!CONFIG.api.submitRunUrl) {\n    throw new Error('Submit run endpoint not configured');\n  }\n\n  setSubmitRunStatus({ type: 'loading', message: 'Submitting run...' });\n\n  try {\n    const result = await apiCall(CONFIG.api.submitRunUrl, {\n      method: 'POST',\n      body: JSON.stringify({\n        handle,\n        reputation: rep,\n        cash,\n        jobsCompleted,\n        funniestEvent,\n        gameVersion: CONFIG.gameVersion,\n        timestamp: Date.now()\n      })\n    });\n\n    setSubmitRunStatus({ type: 'success', message: 'Run submitted successfully!' });\n    return result;\n  } catch (error) {\n    const errorMessage = `Failed to submit run: ${error.message}`;\n    setSubmitRunStatus({ type: 'error', message: errorMessage });\n    throw error;\n  }\n};\n\nconst fetchLeaderboard = async () => {\n  if (!CONFIG.api.leaderboardUrl) {\n    throw new Error('Leaderboard endpoint not configured');\n  }\n\n  setLeaderboardLoading(true);\n  setLeaderboardError(null);\n\n  try {\n    const data = await apiCall(CONFIG.api.leaderboardUrl, {\n      method: 'GET'\n    });\n\n    setLeaderboardData(data);\n    setLeaderboardLoading(false);\n    return data;\n  } catch (error) {\n    const errorMessage = `Failed to fetch leaderboard: ${error.message}`;\n    setLeaderboardError(errorMessage);\n    setLeaderboardLoading(false);\n    throw error;\n  }\n};\n\nconst requestHandle = async (email, preferredHandle) => {\n  if (!CONFIG.api.requestHandleUrl) {\n    throw new Error('Request handle endpoint not configured');\n  }\n\n  setRequestHandleStatus({ type: 'loading', message: 'Requesting handle...' });\n\n  try {\n    const result = await apiCall(CONFIG.api.requestHandleUrl, {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        preferredHandle,\n        gameVersion: CONFIG.gameVersion,\n        timestamp: Date.now()\n      })\n    });\n\n    setRequestHandleStatus({ type: 'success', message: 'Handle request submitted! Check your email.' });\n    return result;\n  } catch (error) {\n    const errorMessage = `Failed to request handle: ${error.message}`;\n    setRequestHandleStatus({ type: 'error', message: errorMessage });\n    throw error;\n  }\n};\n\nconst getSampleLeaderboardData = () => [\n  { rank: 1, handle: \"speed_demon\", reputation: 245, cash: 125000, jobsCompleted: 89, funniestEvent: \"Adobe charged me 3 times in one day\" },\n  { rank: 2, handle: \"quality_king\", reputation: 198, cash: 98000, jobsCompleted: 76, funniestEvent: \"Client asked for 'more cinematic' on a 15s ad\" },\n  { rank: 3, handle: \"studio_boss\", reputation: 167, cash: 75000, jobsCompleted: 65, funniestEvent: \"PC crashed during final render\" },\n  { rank: 4, handle: \"overnight_warrior\", reputation: 134, cash: 62000, jobsCompleted: 52, funniestEvent: \"Worked 48 hours straight, forgot to eat\" },\n  { rank: 5, handle: \"reputation_master\", reputation: 112, cash: 48000, jobsCompleted: 43, funniestEvent: \"Client loved the 'wrong' version\" }\n];\n\n// Health check helpers\nconst createShadowSave = () => {\n  return {\n    cash,\n    reputation,\n    editors,\n    pcs,\n    jobs,\n    logs,\n    managers,\n    editorTrainingCount,\n    pcUpgradeCount,\n    marketCycle,\n    editorWorkHours,\n    graceWindowJobs,\n    memeEventState,\n    activeMemeEvent,\n    blackMarketEffects,\n    virusWarning,\n    virusCountdown,\n    researchLevels,\n    showResearchPanel,\n    prestigePoints,\n    seasonHighRep,\n    showPrestigeModal,\n    achievements,\n    achievementStats,\n    showAchievementsPanel,\n    marketingUsage,\n    lastHealthCheck,\n    healthCheckWarning,\n    shadowSave,\n    softClampWarnings,\n    commandHistory,\n    changelog,\n    performanceMetrics,\n    performanceWarnings\n  };\n};\n\nconst applyShadowSave = (shadowData) => {\n  setCash(shadowData.cash);\n  setReputation(shadowData.reputation);\n  setEditors(shadowData.editors);\n  setPcs(shadowData.pcs);\n  setJobs(shadowData.jobs);\n  setLogs(shadowData.logs);\n  setManagers(shadowData.managers);\n  setEditorTrainingCount(shadowData.editorTrainingCount);\n  setPcUpgradeCount(shadowData.pcUpgradeCount);\n  setMarketCycle(shadowData.marketCycle);\n  setEditorWorkHours(shadowData.editorWorkHours);\n  setGraceWindowJobs(shadowData.graceWindowJobs);\n  setMemeEventState(shadowData.memeEventState);\n  setActiveMemeEvent(shadowData.activeMemeEvent);\n  setBlackMarketEffects(shadowData.blackMarketEffects);\n  setVirusWarning(shadowData.virusWarning);\n  setVirusCountdown(shadowData.virusCountdown);\n  setResearchLevels(shadowData.researchLevels);\n  setShowResearchPanel(shadowData.showResearchPanel);\n  setPrestigePoints(shadowData.prestigePoints);\n  setSeasonHighRep(shadowData.seasonHighRep);\n  setShowPrestigeModal(shadowData.showPrestigeModal);\n  setAchievements(shadowData.achievements);\n  setAchievementStats(shadowData.achievementStats);\n  setShowAchievementsPanel(shadowData.showAchievementsPanel);\n  setMarketingUsage(shadowData.marketingUsage);\n  setLastHealthCheck(shadowData.lastHealthCheck);\n  setHealthCheckWarning(shadowData.healthCheckWarning);\n  setShadowSave(shadowData.shadowSave);\n  setSoftClampWarnings(shadowData.softClampWarnings);\n};\n\nconst checkForNaN = (value, name) => {\n  if (typeof value === 'number' && (isNaN(value) || !isFinite(value))) {\n    return `NaN/Infinity detected in ${name}: ${value}`;\n  }\n  return null;\n};\n\nconst checkForNegativeCash = (currentCash, cost, action) => {\n  if (currentCash - cost < 0) {\n    return `Negative cash would result from ${action}: ${currentCash} - ${cost} = ${currentCash - cost}`;\n  }\n  return null;\n};\n\nconst checkSoftClamps = () => {\n  const warnings = [];\n  \n  // Check editor salaries\n  editors.forEach(editor => {\n    if (editor.salary > CONFIG.healthCheck.softClamps.maxSalary) {\n      warnings.push(`Editor salary clamped: ${editor.salary} â†’ ${CONFIG.healthCheck.softClamps.maxSalary}`);\n    }\n  });\n  \n  // Check job payouts\n  jobs.forEach(job => {\n    if (job.pay > CONFIG.healthCheck.softClamps.maxPayout) {\n      warnings.push(`Job payout clamped: ${job.pay} â†’ ${CONFIG.healthCheck.softClamps.maxPayout}`);\n    }\n  });\n  \n  // Check cash\n  if (cash > CONFIG.healthCheck.softClamps.maxCash) {\n    warnings.push(`Cash clamped: ${cash} â†’ ${CONFIG.healthCheck.softClamps.maxCash}`);\n  }\n  \n  // Check reputation\n  if (reputation > CONFIG.healthCheck.softClamps.maxReputation) {\n    warnings.push(`Reputation clamped: ${reputation} â†’ ${CONFIG.healthCheck.softClamps.maxReputation}`);\n  }\n  \n  // Check editor count\n  if (editors.length > CONFIG.healthCheck.softClamps.maxEditors) {\n    warnings.push(`Editor count clamped: ${editors.length} â†’ ${CONFIG.healthCheck.softClamps.maxEditors}`);\n  }\n  \n  // Check PC count\n  if (pcs.length > CONFIG.healthCheck.softClamps.maxPCs) {\n    warnings.push(`PC count clamped: ${pcs.length} â†’ ${CONFIG.healthCheck.softClamps.maxPCs}`);\n  }\n  \n  return warnings;\n};\n\nconst runHealthCheck = () => {\n  const currentDay = Math.floor(tick / 24);\n  const daysSinceLastCheck = currentDay - lastHealthCheck;\n  \n  if (daysSinceLastCheck < CONFIG.healthCheck.interval) {\n    return; // Not time for health check yet\n  }\n  \n  console.log(`Running health check (day ${currentDay})...`);\n  \n  // Create shadow save before simulation\n  const shadowData = createShadowSave();\n  setShadowSave(shadowData);\n  \n  // Create a copy of current state for simulation\n  let simCash = cash;\n  let simReputation = reputation;\n  let simEditors = [...editors];\n  let simPcs = [...pcs];\n  let simJobs = [...jobs];\n  let simTick = tick;\n  let simLeadsGenerated = 0;\n  let simErrors = [];\n  \n  // Run 7-day simulation\n  for (let day = 0; day < CONFIG.healthCheck.simulationDays; day++) {\n    for (let hour = 0; hour < 24; hour++) {\n      simTick++;\n      \n      // Simulate job spawning\n      if (Math.random() < 0.1) { // 10% chance per hour\n        simLeadsGenerated++;\n        const availableJobTypes = getAvailableJobTypes();\n        if (availableJobTypes.length > 0) {\n          simJobs.unshift(randomClientJob(simTick, availableJobTypes, getJobPayout));\n        }\n      }\n      \n      // Simulate job progress\n      simJobs.forEach(job => {\n        if (job.status === \"active\") {\n          const teamEfficiency = Math.max(0.35, 1 - (simEditors.length - 10) * 0.02);\n          const progress = (simEditors.length * 0.1 + simPcs.length * 0.05) * teamEfficiency;\n          job.progress += progress;\n          \n          if (job.progress >= 100) {\n            job.status = \"done\";\n            simCash += job.pay;\n            simReputation += 2;\n          }\n        }\n      });\n      \n      // Simulate daily payments\n      if (hour === 23) {\n        const dailySalaries = simEditors.reduce((sum, editor) => sum + editor.salary, 0);\n        const dailyOverhead = CONFIG.balance.overhead.softwareLicenses * (simEditors.length + simPcs.length) + \n                             CONFIG.balance.overhead.facilityCost + \n                             Math.log(simEditors.length + simPcs.length + 1) * CONFIG.balance.overhead.facilityScaling;\n        \n        simCash -= dailySalaries + dailyOverhead;\n      }\n      \n      // Check for NaN values\n      const nanChecks = [\n        checkForNaN(simCash, 'cash'),\n        checkForNaN(simReputation, 'reputation'),\n        ...simEditors.map(editor => checkForNaN(editor.salary, 'editor salary')),\n        ...simPcs.map(pc => checkForNaN(pc.power, 'pc power'))\n      ].filter(Boolean);\n      \n      if (nanChecks.length > 0) {\n        simErrors.push(...nanChecks);\n      }\n      \n      // Check for negative cash\n      const negativeCashCheck = checkForNegativeCash(simCash, 0, 'daily operations');\n      if (negativeCashCheck) {\n        simErrors.push(negativeCashCheck);\n      }\n    }\n  }\n  \n  // Check leads per day\n  const leadsPerDay = simLeadsGenerated / CONFIG.healthCheck.simulationDays;\n  if (leadsPerDay < CONFIG.healthCheck.minLeadsPerDay) {\n    simErrors.push(`Insufficient leads generated: ${leadsPerDay.toFixed(2)} per day (min: ${CONFIG.healthCheck.minLeadsPerDay})`);\n  }\n  \n  // Check soft clamps\n  const clampWarnings = checkSoftClamps();\n  if (clampWarnings.length > 0) {\n    setSoftClampWarnings(clampWarnings);\n  }\n  \n  // If errors found, show warning and offer revert\n  if (simErrors.length > 0) {\n    console.warn('Health check failed:', simErrors);\n    setHealthCheckWarning({\n      type: 'error',\n      title: 'Game Integrity Check Failed',\n      message: 'Potential corruption detected. Consider exporting your save and refreshing.',\n      errors: simErrors,\n      canRevert: true\n    });\n  } else {\n    console.log('Health check passed');\n    setHealthCheckWarning(null);\n  }\n  \n  setLastHealthCheck(currentDay);\n};\n\n// Changelog helpers\nconst addChangelogEntry = (type, message, details = null) => {\n  const entry = {\n    id: Date.now(),\n    timestamp: new Date().toISOString(),\n    type, // 'feature', 'migration', 'dev', 'system'\n    message,\n    details,\n    gameVersion: CONFIG.gameVersion,\n    tick,\n    day: Math.floor(tick / 24)\n  };\n  \n  setChangelog(prev => {\n    const newChangelog = [entry, ...prev.slice(0, CONFIG.dev.changelogMaxEntries - 1)];\n    saveLS(\"changelog\", newChangelog);\n    return newChangelog;\n  });\n};\n\nconst exportLogs = () => {\n  const logData = {\n    version: CONFIG.gameVersion,\n    timestamp: new Date().toISOString(),\n    gameState: {\n      tick,\n      day: Math.floor(tick / 24),\n      cash,\n      reputation,\n      editors: editors.length,\n      pcs: pcs.length,\n      jobs: jobs.length,\n      managers,\n      prestigePoints,\n      achievements: achievements.size\n    },\n    eventLog,\n    changelog,\n    commandHistory\n  };\n  \n  const json = JSON.stringify(logData, null, 2);\n  const blob = new Blob([json], { type: 'application/json' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `car-editor-tycoon-logs-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.json`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n  \n  addChangelogEntry('dev', 'Logs exported', { exportedAt: new Date().toISOString() });\n  pushLog(\"ðŸ“‹ Logs exported successfully.\");\n};\n\n// Dev command palette helpers\nconst runPerformanceTest = () => {\n  console.log('Running performance test...');\n  addChangelogEntry('dev', 'Performance test started', { \n    timestamp: Date.now(),\n    currentState: {\n      editors: editors.length,\n      pcs: pcs.length,\n      jobs: jobs.length,\n      speed: speed\n    }\n  });\n  \n  // Test 1: Large dataset simulation\n  const testStart = performance.now();\n  \n  // Create large test dataset\n  const testEditors = Array.from({ length: 150 }, (_, i) => ({\n    id: `test-editor-${i}`,\n    name: `Test Editor ${i}`,\n    skill: 50 + Math.random() * 50,\n    speed: 1 + Math.random() * 2,\n    energy: 100,\n    salary: 100 + Math.random() * 200,\n    assignedJobId: null,\n    resting: false,\n    onboardingComplete: 0\n  }));\n  \n  const testPCs = Array.from({ length: 100 }, (_, i) => ({\n    id: `test-pc-${i}`,\n    name: `Test PC ${i}`,\n    power: 50 + Math.random() * 100,\n    stability: 0.8 + Math.random() * 0.2,\n    assignedJobId: null\n  }));\n  \n  const testJobs = Array.from({ length: 100 }, (_, i) => ({\n    id: `test-job-${i}`,\n    type: 'Commercial',\n    client: `Test Client ${i}`,\n    description: `Test job ${i}`,\n    difficulty: 50 + Math.random() * 50,\n    timeRequired: 100,\n    payout: 1000 + Math.random() * 5000,\n    deadline: tick + 24 * 7,\n    progress: Math.random() * 100,\n    status: Math.random() > 0.5 ? 'active' : 'available',\n    accepted: false,\n    assignedEditorId: null,\n    assignedPCId: null\n  }));\n  \n  // Test 2: Simulate 8x speed for 100 ticks\n  const originalSpeed = speed;\n  const originalEditors = editors;\n  const originalPCs = pcs;\n  const originalJobs = jobs;\n  \n  // Temporarily set large dataset\n  setEditors(testEditors);\n  setPCs(testPCs);\n  setJobs(testJobs);\n  setSpeed(8);\n  \n  const simulationStart = performance.now();\n  let totalTickTime = 0;\n  let tickCount = 0;\n  \n  // Run 100 ticks at 8x speed\n  for (let i = 0; i < 100; i++) {\n    const tickStart = performance.now();\n    \n    // Simulate one tick\n    const tickUpdates = [];\n    tickUpdates.push(() => setTick(t => t + 1));\n    \n    // Simulate job progress\n    const updatedJobs = testJobs.map(job => {\n      if (job.status === 'active' && Math.random() > 0.5) {\n        return { ...job, progress: Math.min(100, job.progress + Math.random() * 10) };\n      }\n      return job;\n    });\n    tickUpdates.push(() => setJobs(updatedJobs));\n    \n    // Simulate editor updates\n    const updatedEditors = testEditors.map(editor => {\n      if (editor.energy < 100) {\n        return { ...editor, energy: Math.min(100, editor.energy + Math.random() * 5) };\n      }\n      return editor;\n    });\n    tickUpdates.push(() => setEditors(updatedEditors));\n    \n    // Execute updates\n    batchStateUpdates(tickUpdates);\n    \n    const tickEnd = performance.now();\n    totalTickTime += tickEnd - tickStart;\n    tickCount++;\n  }\n  \n  const simulationEnd = performance.now();\n  const totalTime = simulationEnd - simulationStart;\n  const avgTickTime = totalTickTime / tickCount;\n  \n  // Restore original state\n  setEditors(originalEditors);\n  setPCs(originalPCs);\n  setJobs(originalJobs);\n  setSpeed(originalSpeed);\n  \n  const results = {\n    totalTime: totalTime.toFixed(2),\n    avgTickTime: avgTickTime.toFixed(2),\n    ticksPerSecond: (1000 / avgTickTime).toFixed(1),\n    targetFPS: CONFIG.dev.performance.targetFPS,\n    maxTickTime: CONFIG.dev.performance.maxTickTime,\n    passed: avgTickTime <= CONFIG.dev.performance.maxTickTime\n  };\n  \n  addChangelogEntry('dev', 'Performance test completed', results);\n  pushLog(`ðŸ”¬ Performance test: ${results.avgTickTime}ms/tick, ${results.ticksPerSecond} ticks/sec ${results.passed ? 'âœ…' : 'âŒ'}`);\n  \n  return results;\n};\n\nconst runSimulation = (days = CONFIG.dev.simulationDays) => {\n  const startTick = tick;\n  const startCash = cash;\n  const startReputation = reputation;\n  const startJobs = jobs.length;\n  \n  console.log(`Running ${days}-day simulation...`);\n  addChangelogEntry('dev', `${days}-day simulation started`, { \n    startTick, \n    startCash, \n    startReputation, \n    startJobs \n  });\n  \n  // Create a copy of current state for simulation\n  let simCash = cash;\n  let simReputation = reputation;\n  let simEditors = [...editors];\n  let simPcs = [...pcs];\n  let simJobs = [...jobs];\n  let simTick = tick;\n  let simLeadsGenerated = 0;\n  let simJobsCompleted = 0;\n  \n  // Run simulation\n  for (let day = 0; day < days; day++) {\n    for (let hour = 0; hour < 24; hour++) {\n      simTick++;\n      \n      // Simulate job spawning\n      if (Math.random() < 0.1) { // 10% chance per hour\n        simLeadsGenerated++;\n        const availableJobTypes = getAvailableJobTypes();\n        if (availableJobTypes.length > 0) {\n          simJobs.unshift(randomClientJob(simTick, availableJobTypes, getJobPayout));\n        }\n      }\n      \n      // Simulate job progress\n      simJobs.forEach(job => {\n        if (job.status === \"active\") {\n          const teamEfficiency = Math.max(0.35, 1 - (simEditors.length - 10) * 0.02);\n          const progress = (simEditors.length * 0.1 + simPcs.length * 0.05) * teamEfficiency;\n          job.progress += progress;\n          \n          if (job.progress >= 100) {\n            job.status = \"done\";\n            simCash += job.pay;\n            simReputation += 2;\n            simJobsCompleted++;\n          }\n        }\n      });\n      \n      // Simulate daily payments\n      if (hour === 23) {\n        const dailySalaries = simEditors.reduce((sum, editor) => sum + editor.salary, 0);\n        const dailyOverhead = CONFIG.balance.overhead.softwareLicenses * (simEditors.length + simPcs.length) + \n                             CONFIG.balance.overhead.facilityCost + \n                             Math.log(simEditors.length + simPcs.length + 1) * CONFIG.balance.overhead.facilityScaling;\n        \n        simCash -= dailySalaries + dailyOverhead;\n      }\n    }\n  }\n  \n  const results = {\n    days,\n    cashGain: simCash - startCash,\n    reputationGain: simReputation - startReputation,\n    jobsCompleted: simJobsCompleted,\n    leadsGenerated: simLeadsGenerated,\n    finalCash: simCash,\n    finalReputation: simReputation\n  };\n  \n  addChangelogEntry('dev', `${days}-day simulation completed`, results);\n  pushLog(`ðŸ”® ${days}-day simulation: +$${results.cashGain.toLocaleString()}, +${results.reputationGain} rep, ${results.jobsCompleted} jobs completed`);\n  \n  return results;\n};\n\nconst fillCash = (amount) => {\n  const clampedAmount = Math.min(amount, CONFIG.dev.maxCashFill);\n  const oldCash = cash;\n  setCash(clampedAmount);\n  \n  addChangelogEntry('dev', 'Cash filled', { \n    oldCash, \n    newCash: clampedAmount, \n    requested: amount \n  });\n  pushLog(`ðŸ’° Cash filled to $${clampedAmount.toLocaleString()}`);\n};\n\nconst spawnLeads = (count) => {\n  const clampedCount = Math.min(count, CONFIG.dev.maxLeadsSpawn);\n  const availableJobTypes = getAvailableJobTypes();\n  \n  if (availableJobTypes.length === 0) {\n    pushLog(\"âŒ No available job types to spawn leads\");\n    return;\n  }\n  \n  setJobs(prev => {\n    const next = [...prev];\n    for (let i = 0; i < clampedCount; i++) {\n      next.unshift(randomClientJob(tick, availableJobTypes, getJobPayout));\n    }\n    return next;\n  });\n  \n  addChangelogEntry('dev', 'Leads spawned', { \n    count: clampedCount, \n    requested: count \n  });\n  pushLog(`ðŸ“‹ Spawned ${clampedCount} new leads`);\n};\n\nconst toggleFeatureFlag = (flagName) => {\n  if (CONFIG.featureFlags.hasOwnProperty(flagName)) {\n    const oldValue = CONFIG.featureFlags[flagName];\n    CONFIG.featureFlags[flagName] = !oldValue;\n    \n    addChangelogEntry('dev', `Feature flag toggled: ${flagName}`, { \n      flag: flagName, \n      oldValue, \n      newValue: !oldValue \n    });\n    pushLog(`ðŸ”§ Feature flag '${flagName}' ${!oldValue ? 'enabled' : 'disabled'}`);\n  } else {\n    pushLog(`âŒ Unknown feature flag: ${flagName}`);\n  }\n};\n\nconst resetToLastGoodSave = () => {\n  if (shadowSave) {\n    applyShadowSave(shadowSave);\n    addChangelogEntry('dev', 'Reset to last good save', { \n      resetFrom: 'shadowSave' \n    });\n    pushLog(\"ðŸ”„ Reset to last known good state\");\n  } else {\n    pushLog(\"âŒ No shadow save available\");\n  }\n};\n\nconst executeCommand = (command) => {\n  const parts = command.trim().toLowerCase().split(' ');\n  const cmd = parts[0];\n  const args = parts.slice(1);\n  \n  try {\n    switch (cmd) {\n      case 'sim':\n      case 'simulate':\n        const days = parseInt(args[0]) || CONFIG.dev.simulationDays;\n        runSimulation(days);\n        break;\n        \n      case 'cash':\n      case 'fill':\n        const amount = parseInt(args[0]) || 100000;\n        fillCash(amount);\n        break;\n        \n      case 'leads':\n      case 'spawn':\n        const count = parseInt(args[0]) || 5;\n        spawnLeads(count);\n        break;\n        \n      case 'flag':\n      case 'toggle':\n        const flagName = args[0];\n        if (flagName) {\n          toggleFeatureFlag(flagName);\n        } else {\n          pushLog(\"âŒ Please specify a feature flag name\");\n        }\n        break;\n        \n      case 'reset':\n      case 'revert':\n        resetToLastGoodSave();\n        break;\n        \n      case 'logs':\n      case 'export':\n        exportLogs();\n        break;\n        \n      case 'perf':\n      case 'performance':\n        runPerformanceTest();\n        break;\n        \n      case 'help':\n        pushLog(\"ðŸ”§ Available commands: sim [days], cash [amount], leads [count], flag [name], reset, logs, perf, help\");\n        break;\n        \n      default:\n        pushLog(`âŒ Unknown command: ${cmd}. Type 'help' for available commands.`);\n    }\n  } catch (error) {\n    pushLog(`âŒ Command error: ${error.message}`);\n  }\n  \n  // Add to command history\n  setCommandHistory(prev => [command, ...prev.slice(0, 49)]); // Keep last 50 commands\n  setCommandHistoryIndex(-1);\n};\n\n// Performance monitoring helpers\nconst measurePerformance = (callback, label) => {\n  const start = performance.now();\n  const result = callback();\n  const end = performance.now();\n  const duration = end - start;\n  \n  if (duration > CONFIG.dev.performance.maxTickTime) {\n    console.warn(`Performance warning: ${label} took ${duration.toFixed(2)}ms`);\n    setPerformanceWarnings(prev => [...prev.slice(-4), { label, duration, timestamp: Date.now() }]);\n  }\n  \n  return { result, duration };\n};\n\nconst updatePerformanceMetrics = () => {\n  const now = performance.now();\n  const frameTime = now - performanceMetrics.lastFrameTime;\n  const fps = frameTime > 0 ? Math.round(1000 / frameTime) : 0;\n  \n  setPerformanceMetrics(prev => ({\n    ...prev,\n    fps,\n    lastFrameTime: now,\n    renderCount: prev.renderCount + 1,\n    memoryUsage: performance.memory ? performance.memory.usedJSHeapSize / 1024 / 1024 : 0\n  }));\n};\n\nconst batchStateUpdates = (updates) => {\n  if (!CONFIG.dev.performance.batchUpdates) {\n    updates.forEach(update => update());\n    return;\n  }\n  \n  // Use React's automatic batching in React 18+\n  React.startTransition(() => {\n    updates.forEach(update => update());\n  });\n};\n\nconst getAchievementProgress = (achievementId) => {\n  switch (achievementId) {\n    case \"flawlessDeliveries\":\n      return achievementStats.flawlessDeliveries;\n    case \"largeTeam\":\n      return editors.length + managers;\n    case \"overnightJobs\":\n      return achievementStats.overnightJobs;\n    case \"highReputation\":\n      return reputation;\n    case \"richStudio\":\n      return cash;\n    case \"speedDemon\":\n      return achievementStats.speedDemonJobs;\n    case \"qualityMaster\":\n      return achievementStats.qualityMasterJobs;\n    case \"workaholic\":\n      return achievementStats.maxWorkHours;\n    case \"marketCycler\":\n      return achievementStats.marketCycles;\n    case \"researchMaster\":\n      return achievementStats.maxResearchCategories;\n    default:\n      return 0;\n  }\n};\n\n// Achievements helpers\nconst unlockAchievement = (achievementId) => {\n  if (achievements.has(achievementId)) return; // Already unlocked\n  \n  const achievement = CONFIG.achievements[achievementId];\n  if (!achievement) return;\n  \n  setAchievements(prev => new Set([...prev, achievementId]));\n  pushLog(`ðŸ† Achievement Unlocked: ${achievement.icon} ${achievement.name}`);\n  \n  // Show toast notification\n  showAchievementToast(achievement);\n};\n\nconst showAchievementToast = (achievement) => {\n  // Create a temporary toast element\n  const toast = document.createElement('div');\n  toast.className = `fixed top-4 right-4 z-50 bg-neutral-900 border-2 border-${achievement.color.replace('text-', '')} rounded-xl p-4 shadow-lg animate-bounce`;\n  toast.innerHTML = `\n    <div class=\"flex items-center gap-3\">\n      <div class=\"text-2xl\">${achievement.icon}</div>\n      <div>\n        <div class=\"font-bold ${achievement.color}\">${achievement.name}</div>\n        <div class=\"text-sm text-neutral-300\">${achievement.description}</div>\n      </div>\n    </div>\n  `;\n  \n  document.body.appendChild(toast);\n  \n  // Remove toast after 4 seconds\n  setTimeout(() => {\n    if (toast.parentNode) {\n      toast.parentNode.removeChild(toast);\n    }\n  }, 4000);\n};\n\nconst checkAchievements = () => {\n  // Check flawless deliveries\n  if (achievementStats.flawlessDeliveries >= CONFIG.achievements.flawlessDeliveries.requirement) {\n    unlockAchievement(\"flawlessDeliveries\");\n  }\n  \n  // Check large team\n  const totalStaff = editors.length + managers;\n  if (totalStaff >= CONFIG.achievements.largeTeam.requirement) {\n    unlockAchievement(\"largeTeam\");\n  }\n  \n  // Check overnight jobs\n  if (achievementStats.overnightJobs >= CONFIG.achievements.overnightJobs.requirement) {\n    unlockAchievement(\"overnightJobs\");\n  }\n  \n  // Check high reputation\n  if (reputation >= CONFIG.achievements.highReputation.requirement) {\n    unlockAchievement(\"highReputation\");\n  }\n  \n  // Check rich studio\n  if (cash >= CONFIG.achievements.richStudio.requirement) {\n    unlockAchievement(\"richStudio\");\n  }\n  \n  // Check speed demon\n  if (achievementStats.speedDemonJobs >= CONFIG.achievements.speedDemon.requirement) {\n    unlockAchievement(\"speedDemon\");\n  }\n  \n  // Check quality master\n  if (achievementStats.qualityMasterJobs >= CONFIG.achievements.qualityMaster.requirement) {\n    unlockAchievement(\"qualityMaster\");\n  }\n  \n  // Check workaholic\n  if (achievementStats.maxWorkHours >= CONFIG.achievements.workaholic.requirement) {\n    unlockAchievement(\"workaholic\");\n  }\n  \n  // Check market cycler\n  if (achievementStats.marketCycles >= CONFIG.achievements.marketCycler.requirement) {\n    unlockAchievement(\"marketCycler\");\n  }\n  \n  // Check research master\n  if (achievementStats.maxResearchCategories >= CONFIG.achievements.researchMaster.requirement) {\n    unlockAchievement(\"researchMaster\");\n  }\n};\n\n  // ==================== Helpers ====================\n  function editorName(id) { return editors.find((e) => e.id === id)?.name ?? \"â€”\"; }\n  function pcName(id) { return pcs.find((p) => p.id === id)?.name ?? \"â€”\"; }\n  function pushLog(msg) { setEventLog((prev) => [timeStr(), msg, ...prev].slice(0, 50)); }\n  function timeStr() { const d = `Day ${day}`; const h = tick % 24; return `[${d} â€¢ ${String(h).padStart(2, \"0\")}:00]`; }\n  function toast(msg) { pushLog(`âš ï¸ ${msg}`); }\n\n  // ==================== UI ====================\n  return (\n    <div className=\"min-h-screen w-full bg-neutral-950 text-neutral-100 p-4 md:p-6\">\n      {/* Header */}\n      <div className=\"flex flex-col md:flex-row gap-3 md:items-center md:justify-between\">\n        <h1 className=\"text-2xl md:text-3xl font-black tracking-tight\">\n          Car Editor Tycoon <span className=\"text-orange-400\">Î²</span>\n        </h1>\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <button onClick={() => setPlaying((p) => !p)} className={`px-3 py-2 rounded-xl text-sm font-semibold shadow ${playing ? \"bg-rose-600 hover:bg-rose-500\" : \"bg-emerald-600 hover:bg-emerald-500\"}`}>\n            {playing ? \"Pause\" : \"Start\"}\n          </button>\n          <button onClick={() => step()} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-neutral-800 hover:bg-neutral-700\">+1 Tick</button>\n          <div className=\"flex items-center gap-2 bg-neutral-900 px-3 py-2 rounded-xl\">\n            <span className=\"text-xs opacity-70\">Speed</span>\n            <select value={speed} onChange={(e) => setSpeed(Number(e.target.value))} className=\"bg-neutral-800 rounded-lg text-sm px-2 py-1 focus:outline-none\">\n              <option value={1}>1x</option>\n              <option value={2}>2x</option>\n              <option value={4}>4x</option>\n              <option value={8}>8x</option>\n            </select>\n          </div>\n          <label className=\"flex items-center gap-2 bg-neutral-900 px-3 py-2 rounded-xl text-sm\">\n            <input type=\"checkbox\" checked={autoAssign} onChange={(e) => setAutoAssign(e.target.checked)} />\n            Autoâ€‘assign\n          </label>\n          {showDevFeatures && (\n            <label className=\"flex items-center gap-2 bg-neutral-900 px-3 py-2 rounded-xl text-sm\">\n              <input type=\"checkbox\" checked={devOverlay} onChange={(e) => setDevOverlay(e.target.checked)} />\n              Dev Overlay\n            </label>\n          )}\n          <button onClick={exportSave} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-blue-600 hover:bg-blue-500\">Export</button>\n          <button onClick={importSave} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-purple-600 hover:bg-purple-500\">Import</button>\n          {CONFIG.cloudBackupUrl && (\n            <button \n              onClick={cloudBackup} \n              disabled={cloudBackupStatus === \"loading\"}\n              className={`px-3 py-2 rounded-xl text-sm font-semibold shadow ${\n                cloudBackupStatus === \"loading\" \n                  ? \"bg-neutral-700 opacity-60\" \n                  : cloudBackupStatus === \"success\"\n                  ? \"bg-green-600\"\n                  : cloudBackupStatus === \"error\"\n                  ? \"bg-red-600\"\n                  : \"bg-indigo-600 hover:bg-indigo-500\"\n              }`}\n            >\n              {cloudBackupStatus === \"loading\" ? \"Backing up...\" : \n               cloudBackupStatus === \"success\" ? \"âœ“ Backed up\" :\n               cloudBackupStatus === \"error\" ? \"âœ— Failed\" : \"Cloud Backup\"}\n            </button>\n          )}\n          <button onClick={resetGame} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-neutral-900 hover:bg-neutral-800\">Reset</button>\n          <button onClick={() => setShowResearchPanel(true)} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-blue-600 hover:bg-blue-500\">ðŸ”¬ Research</button>\n          {CONFIG.featureFlags.prestige && (\n            <button \n              onClick={() => setShowPrestigeModal(true)} \n              className={`px-3 py-2 rounded-xl text-sm font-semibold shadow ${\n                canPrestige() \n                  ? \"bg-purple-600 hover:bg-purple-500\" \n                  : \"bg-neutral-700 opacity-60\"\n              }`}\n              title={canPrestige() ? \"Prestige: Reset for meta perks\" : \"Need Rep 100+ and $10,000+ to prestige\"}\n            >\n              ðŸŒŸ Prestige {prestigePoints > 0 && `(${prestigePoints})`}\n            </button>\n          )}\n          <button onClick={() => setShowAchievementsPanel(true)} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-yellow-600 hover:bg-yellow-500\">\n            ðŸ† Achievements {achievements.size > 0 && `(${achievements.size})`}\n          </button>\n          <button onClick={() => setCurrentRoute('leaderboard')} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-indigo-600 hover:bg-indigo-500\">\n            ðŸ“Š Leaderboard\n          </button>\n          {showDevFeatures && (\n            <button onClick={() => setShowCommandPalette(true)} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-purple-600 hover:bg-purple-500\">\n              ðŸ”§ Commands\n            </button>\n          )}\n          {showDevFeatures && (\n            <button onClick={() => setShowChangelog(true)} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-gray-600 hover:bg-gray-500\">\n              ðŸ“‹ Changelog {changelog.length > 0 && `(${changelog.length})`}\n            </button>\n          )}\n          <button onClick={generateRunSummary} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-purple-600 hover:bg-purple-500\">\n            ðŸ“¸ Share Run\n          </button>\n        </div>\n        \n        {/* Research Icons */}\n        <div className=\"flex items-center gap-1 mt-2 md:mt-0\">\n          {CONFIG.balance.research.upgrades.map((research) => {\n            const level = getResearchLevel(research.id);\n            if (level === 0) return null;\n            \n            return (\n              <div \n                key={research.id}\n                className=\"text-lg cursor-help\"\n                title={`${research.name} - Level ${level} (${research.tooltip})`}\n              >\n                {research.icon}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Payroll Risk Banner */}\n      {isPayrollRisk() && (\n        <div className=\"mt-4 bg-red-900/60 border border-red-700/60 rounded-2xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"text-2xl\">âš ï¸</div>\n            <div>\n              <h3 className=\"font-bold text-red-300\">Payroll Risk</h3>\n              <p className=\"text-sm text-red-200\">\n                Projected cash tomorrow: <span className=\"font-bold\">${getProjectedNextDayCash().toLocaleString()}</span> \n                (Daily burn: ${(getDailySalaries() + getDailyOverhead()).toLocaleString()})\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Health Check Warning Banner */}\n      {healthCheckWarning && (\n        <div className=\"mt-4 bg-red-900/60 border border-red-700/60 rounded-2xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"text-2xl\">ðŸ”</div>\n            <div className=\"flex-1\">\n              <h3 className=\"font-bold text-red-300\">{healthCheckWarning.title}</h3>\n              <p className=\"text-sm text-red-200 mb-2\">{healthCheckWarning.message}</p>\n              {healthCheckWarning.errors && (\n                <div className=\"text-xs text-red-200 mb-3\">\n                  <div className=\"font-semibold mb-1\">Issues detected:</div>\n                  {healthCheckWarning.errors.slice(0, 3).map((error, index) => (\n                    <div key={index} className=\"ml-2\">â€¢ {error}</div>\n                  ))}\n                  {healthCheckWarning.errors.length > 3 && (\n                    <div className=\"ml-2 text-red-300\">... and {healthCheckWarning.errors.length - 3} more</div>\n                  )}\n                </div>\n              )}\n              <div className=\"flex gap-2\">\n                <button \n                  onClick={exportSave}\n                  className=\"px-3 py-1 bg-blue-600 hover:bg-blue-500 rounded-lg text-xs font-semibold\"\n                >\n                  ðŸ“ Export Save\n                </button>\n                {healthCheckWarning.canRevert && shadowSave && (\n                  <button \n                    onClick={() => {\n                      if (confirm('Revert to last known good state? This will undo recent changes.')) {\n                        applyShadowSave(shadowSave);\n                        setHealthCheckWarning(null);\n                      }\n                    }}\n                    className=\"px-3 py-1 bg-orange-600 hover:bg-orange-500 rounded-lg text-xs font-semibold\"\n                  >\n                    ðŸ”„ Revert Changes\n                  </button>\n                )}\n                <button \n                  onClick={() => setHealthCheckWarning(null)}\n                  className=\"px-3 py-1 bg-neutral-700 hover:bg-neutral-600 rounded-lg text-xs font-semibold\"\n                >\n                  âœ• Dismiss\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stats Bar */}\n      <div className=\"grid grid-cols-2 md:grid-cols-9 gap-3 mt-4\">\n        <StatCard label=\"Cash\" value={`$${cash.toLocaleString()}`} sub=\"Budget\" />\n        <StatCard \n          label=\"Reputation\" \n          value={`${reputation}`} \n          sub={`${getCurrentReputationTier().name} â€¢ ${getNextReputationUnlock() ? `${getNextReputationUnlock().reputation - reputation} to ${getNextReputationUnlock().description}` : 'Max tier'}`}\n        />\n        <StatCard label=\"Day\" value={`${day}`} sub={`Hour ${String(tick % 24).padStart(2, \"0\")}:00`} />\n        <StatCard label=\"Active Jobs\" value={`${active.length}`} sub={`${available.length} waiting`} />\n        <StatCard label=\"Team\" value={`${editors.length} editors`} sub={`${managers} managers â€¢ ${(teamEfficiency * 100).toFixed(0)}% efficiency`} />\n        <StatCard label=\"Job Tier\" value={getCurrentJobTier().name} sub={`Rep ${reputation} â€¢ ${getAvailableJobTypes().length}/${JOB_TYPES.length} types`} />\n        <StatCard label=\"Daily Burn\" value={`$${(getDailySalaries() + getDailyOverhead()).toLocaleString()}`} sub={`Salaries $${getDailySalaries()} â€¢ Overhead $${getDailyOverhead()}`} />\n        <StatCard label=\"Upgrades\" value={`${purchased.size}/${UPGRADES.length}`} sub={`Spawn ${(spawnRate * 100).toFixed(0)}% â€¢ Lead cap ${leadCap}`} />\n        {CONFIG.featureFlags.prestige && (\n          <StatCard label=\"Prestige\" value={`${prestigePoints} pts`} sub={`Season High: ${seasonHighRep} rep`} />\n        )}\n      </div>\n\n      {/* Main Columns */}\n      <div className=\"grid grid-cols-1 xl:grid-cols-12 gap-4 mt-4\">\n        {/* Left: Leads */}\n        <section className=\"xl:col-span-4 bg-neutral-900/60 rounded-2xl p-4 border border-neutral-800/60\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <h2 className=\"font-bold text-lg\">Leads & Inquiries</h2>\n            {marketCycle.boostedType && (\n              <div className=\"text-xs bg-green-900/60 border border-green-700/60 px-2 py-1 rounded\">\n                ðŸ“ˆ {marketCycle.boostedType} boosted\n              </div>\n            )}\n          </div>\n          <div className=\"flex items-center justify-between mb-3\">\n            <button \n              onClick={runMarketing} \n              disabled={!canUseMarketing()}\n              className={`px-3 py-2 rounded-xl text-sm font-semibold shadow ${\n                canUseMarketing() \n                  ? \"bg-orange-600 hover:bg-orange-500\" \n                  : \"bg-neutral-700 opacity-60\"\n              }`}\n              title={canUseMarketing() ? `Marketing: ${marketingUsage.usesToday}/${CONFIG.marketing.maxUsesPerDay} uses today` : \"Daily marketing limit reached\"}\n            >\n              Run Marketing (âˆ’${getMarketingCost()})\n            </button>\n            <span className=\"text-xs opacity-70\">\n              Spawn rate: {(spawnRate * 100).toFixed(0)}% (cap {leadCap}) â€¢ Uses: {marketingUsage.usesToday}/{CONFIG.marketing.maxUsesPerDay}\n            </span>\n          </div>\n          <div className=\"space-y-3 max-h-[420px] overflow-auto pr-2\">\n            {available.length === 0 && (\n              <div className=\"text-sm opacity-60\">No leads right now. Try marketing or wait for inquiries.</div>\n            )}\n            {available.map((j) => (\n              <div key={j.id} className=\"rounded-xl p-3 bg-neutral-800/70 border border-neutral-700/60\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"font-semibold\">\n                    {j.type}\n                    {marketCycle.boostedType === j.type && <span className=\"ml-2 text-xs bg-green-600 text-white px-1.5 py-0.5 rounded\">ðŸ“ˆ</span>}\n                    {marketCycle.nerfedType === j.type && <span className=\"ml-2 text-xs bg-red-600 text-white px-1.5 py-0.5 rounded\">ðŸ“‰</span>}\n                  </div>\n                  <div className=\"text-sm text-emerald-400 font-bold\">${j.payout.toLocaleString()}</div>\n                </div>\n                <div className=\"text-sm opacity-80\">{j.clientName}</div>\n                <div className=\"text-xs opacity-70\">{j.brand}</div>\n                <div className=\"flex items-center gap-3 mt-2 text-xs\">\n                  <Badge>Req {j.difficulty}</Badge>\n                  <Badge>Hours {j.timeRequired}</Badge>\n                  {graceWindowJobs.has(j.id) ? (\n                    <Badge className=\"bg-orange-900 border-orange-700\">Grace: {Math.max(getGraceWindowDeadline(j) - tick, 0)}h</Badge>\n                  ) : (\n                    <Badge>Due in {Math.max(j.deadline - tick, 0)}h</Badge>\n                  )}\n                </div>\n                <div className=\"mt-3 flex gap-2\">\n                  <button onClick={() => acceptJob(j.id)} className=\"px-3 py-1.5 rounded-lg text-sm font-semibold bg-emerald-600 hover:bg-emerald-500\">Accept</button>\n                  <button onClick={() => failJob(j.id, \"Declined\")} className=\"px-3 py-1.5 rounded-lg text-sm font-semibold bg-neutral-700 hover:bg-neutral-600\">Decline</button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </section>\n\n        {/* Center: Active Board */}\n        <section className=\"xl:col-span-5 bg-neutral-900/60 rounded-2xl p-4 border border-neutral-800/60\">\n          <h2 className=\"font-bold text-lg mb-3\">Production Board</h2>\n          <div className=\"space-y-3 max-h-[520px] overflow-auto pr-2\">\n            {active.length === 0 && <div className=\"text-sm opacity-60\">No active jobs. Accept a lead and assign staff.</div>}\n            {active.map((j) => (\n              <div key={j.id} className=\"rounded-xl p-3 bg-neutral-800/70 border border-neutral-700/60\">\n                <div className=\"flex items-center justify-between gap-2\">\n                  <div>\n                    <div className=\"font-semibold\">\n                      {j.type}\n                      {marketCycle.boostedType === j.type && <span className=\"ml-2 text-xs bg-green-600 text-white px-1.5 py-0.5 rounded\">ðŸ“ˆ</span>}\n                      {marketCycle.nerfedType === j.type && <span className=\"ml-2 text-xs bg-red-600 text-white px-1.5 py-0.5 rounded\">ðŸ“‰</span>}\n                    </div>\n                    <div className=\"text-xs opacity-70\">{j.brand}</div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-bold text-emerald-400\">${j.payout.toLocaleString()}</div>\n                    <div className=\"text-xs opacity-70\">Due in {Math.max(j.deadline - tick, 0)}h</div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-2 text-sm mt-2\">\n                  <div className=\"bg-neutral-900/70 rounded-lg p-2\">\n                    <div className=\"opacity-70 text-xs\">Editor</div>\n                    <div className=\"font-semibold\">{editorName(j.assignedEditorId)}</div>\n                  </div>\n                  <div className=\"bg-neutral-900/70 rounded-lg p-2\">\n                    <div className=\"opacity-70 text-xs\">Workstation</div>\n                    <div className=\"font-semibold\">{pcName(j.assignedPCId)}</div>\n                  </div>\n                </div>\n\n                <div className=\"mt-3\">\n                  <Progress value={Math.round((j.progress / j.timeRequired) * 100)} />\n                </div>\n\n                <div className=\"mt-3 flex gap-2\">\n                  <button onClick={() => unassign(j.id)} className=\"px-3 py-1.5 rounded-lg text-sm font-semibold bg-neutral-700 hover:bg-neutral-600\">Unassign</button>\n                  <button onClick={() => autoAssignJob(j.id)} className=\"px-3 py-1.5 rounded-lg text-sm font-semibold bg-neutral-700 hover:bg-neutral-600\">Autoâ€‘assign</button>\n                </div>\n              </div>\n            ))}\n\n            {(done.length > 0 || failed.length > 0) && (\n              <div className=\"pt-2 border-t border-neutral-800/60\">\n                <h3 className=\"text-sm font-bold mb-2 opacity-80\">History</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n                  {done.slice(0, 6).map((j) => (\n                    <div key={j.id} className=\"rounded-lg p-2 bg-neutral-800/70 border border-neutral-700/60 text-xs\">\n                      âœ… {j.type} â€¢ {j.brand} â€¢ ${j.payout}\n                    </div>\n                  ))}\n                  {failed.slice(0, 6).map((j) => (\n                    <div key={j.id} className=\"rounded-lg p-2 bg-neutral-800/70 border border-neutral-700/60 text-xs\">\n                      âŒ {j.type} â€¢ {j.brand}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </section>\n\n        {/* Right: Team, Upgrades & Shop */}\n        <section className=\"xl:col-span-3 space-y-4\">\n          {/* Team & upgrades */}\n          <div className=\"bg-neutral-900/60 rounded-2xl p-4 border border-neutral-800/60\">\n            <h2 className=\"font-bold text-lg mb-3\">Team & Upgrades</h2>\n            <div className=\"space-y-2 mb-3\">\n              <div className=\"flex gap-2 items-center flex-wrap\">\n                <button onClick={hireEditor} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-sky-600 hover:bg-sky-500\">Hire Editor (âˆ’${getHireEditorCost()})</button>\n                <span className=\"text-xs opacity-70\">Remaining friends: {getRemainingFriends().length}</span>\n                <button onClick={buyPC} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-fuchsia-600 hover:bg-fuchsia-500\">Buy PC (âˆ’${getBuyPCCost()})</button>\n              </div>\n              {canHireManager && (\n                <div className=\"flex gap-2 items-center flex-wrap\">\n                  <button onClick={hireManager} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-amber-600 hover:bg-amber-500\">Hire Manager (âˆ’$ {2000 + managers * 500})</button>\n                  <span className=\"text-xs opacity-70\">Managers: {managers}/{availableManagerSlots} â€¢ +{(CONFIG.balance.managerEfficiencyBonus * 100).toFixed(0)}% efficiency each</span>\n                </div>\n              )}\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-3 max-h-[360px] overflow-auto pr-2\">\n              <div>\n                <h3 className=\"font-semibold mb-1\">Editors</h3>\n                {visibleEditors.map((e) => {\n                  const isOnboarding = e.onboardingComplete && tick < e.onboardingComplete;\n                  const onboardingHoursLeft = isOnboarding ? e.onboardingComplete - tick : 0;\n                  return (\n                    <div key={e.id} className=\"rounded-xl p-3 bg-neutral-800/70 border border-neutral-700/60 mb-2\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"font-semibold\">\n                          {e.name} \n                          {e.assignedJobId && !e.resting && <span className=\"text-xs opacity-70\"> â€¢ busy</span>}\n                          {e.assignedJobId && e.resting && <span className=\"text-xs opacity-70\"> â€¢ resting</span>}\n                          {isOnboarding && <span className=\"text-xs text-orange-400\"> â€¢ onboarding</span>}\n                          {isEditorBurnout(e.id) && <span className=\"text-xs text-red-400\"> â€¢ burnout</span>}\n                        </div>\n                        <div className=\"text-xs opacity-70\">Salary ${e.salary}/day</div>\n                      </div>\n                                              <div className=\"text-xs opacity-80\">\n                          Skill {e.skill + getBlackMarketSkillBoost()} â€¢ Speed {(e.speed + effects.speedBonus + getBlackMarketSpeedBoost()).toFixed(2)}x\n                          {isOnboarding && <span className=\"text-orange-400\"> â€¢ {onboardingHoursLeft}h remaining</span>}\n                          {(editorTrainingCount[e.id] || 0) > 0 && <span className=\"text-blue-400\"> â€¢ Trained {(editorTrainingCount[e.id] || 0)}x</span>}\n                          {(editorWorkHours[e.id] || 0) > 0 && <span className=\"text-yellow-400\"> â€¢ Worked {(editorWorkHours[e.id] || 0)}h</span>}\n                          {isBlackMarketActive() && <span className=\"text-red-400\"> â€¢ Cracked plugins active</span>}\n                        </div>\n                      <div className=\"mt-1\">\n                        <Bar value={e.energy} label=\"Energy\" />\n                      </div>\n                      <div className=\"mt-2 flex gap-2\">\n                        <button onClick={() => trainEditor(e.id)} className=\"px-3 py-1.5 rounded-lg text-xs font-semibold bg-neutral-700 hover:bg-neutral-600\">Train (âˆ’${getTrainEditorCost(e.id)})</button>\n                      </div>\n                    </div>\n                  );\n                })}\n                {CONFIG.dev.performance.virtualizeLists && editors.length > CONFIG.dev.performance.maxVisibleEditors && (\n                  <div className=\"text-xs text-neutral-400 text-center py-2\">\n                    Showing {CONFIG.dev.performance.maxVisibleEditors} of {editors.length} editors\n                  </div>\n                )}\n              </div>\n\n              <div>\n                <h3 className=\"font-semibold mb-1\">Workstations</h3>\n                {visiblePCs.map((p) => (\n                  <div key={p.id} className=\"rounded-xl p-3 bg-neutral-800/70 border border-neutral-700/60 mb-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"font-semibold\">{p.name} {p.assignedJobId && <span className=\"text-xs opacity-70\">â€¢ busy</span>}</div>\n                      <div className=\"text-xs opacity-70\">Tier {p.tier}</div>\n                    </div>\n                    <div className=\"text-xs opacity-80\">\n                      Power {p.power} â€¢ Stability {p.stability}%\n                      {(pcUpgradeCount[p.id] || 0) > 0 && <span className=\"text-purple-400\"> â€¢ Upgraded {(pcUpgradeCount[p.id] || 0)}x</span>}\n                      <span className=\"text-gray-400\"> â€¢ {(getPCCrashChance(p) * 100).toFixed(1)}% crash chance</span>\n                    </div>\n                    <div className=\"mt-2 flex gap-2\">\n                      <button onClick={() => upgradePC(p.id)} className=\"px-3 py-1.5 rounded-lg text-xs font-semibold bg-neutral-700 hover:bg-neutral-600\">Upgrade (âˆ’${getUpgradePCCost(p.id)})</button>\n                    </div>\n                  </div>\n                ))}\n                {CONFIG.dev.performance.virtualizeLists && pcs.length > CONFIG.dev.performance.maxVisiblePCs && (\n                  <div className=\"text-xs text-neutral-400 text-center py-2\">\n                    Showing {CONFIG.dev.performance.maxVisiblePCs} of {pcs.length} PCs\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Shop */}\n          <div className=\"bg-neutral-900/60 rounded-2xl p-4 border border-neutral-800/60\">\n            <h2 className=\"font-bold text-lg mb-3\">Shop â€” Plugins & Memberships</h2>\n            <div className=\"grid grid-cols-1 gap-2 max-h-[360px] overflow-auto pr-2\">\n              {UPGRADES.map((u) => {\n                const owned = purchased.has(u.id);\n                return (\n                  <div key={u.id} className=\"rounded-xl p-3 bg-neutral-800/70 border border-neutral-700/60\">\n                    <div className=\"flex items-center justify-between gap-2\">\n                      <div>\n                        <div className=\"font-semibold\">{u.name} {owned && <span className=\"text-xs opacity-70\">â€¢ owned</span>}</div>\n                        <div className=\"text-xs opacity-80\">{u.desc}</div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"text-sm font-bold text-emerald-400\">${u.cost.toLocaleString()}</div>\n                        <button disabled={owned || cash < u.cost} onClick={() => buyUpgrade(u.id)} className={`mt-2 px-3 py-1.5 rounded-lg text-xs font-semibold ${owned ? \"bg-neutral-700 opacity-60\" : cash < u.cost ? \"bg-neutral-700 opacity-80\" : \"bg-emerald-600 hover:bg-emerald-500\"}`}>{owned ? \"Owned\" : \"Buy\"}</button>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"text-xs opacity-70 mt-2\">Permanent upgrades apply to all editors and persist across sessions.</div>\n            \n            {/* Black Market Section */}\n            {CONFIG.featureFlags.blackMarket && (\n              <div className=\"mt-4 pt-4 border-t border-red-500/30\">\n                <h3 className=\"font-bold text-lg mb-3 text-red-400\">ðŸ–¤ Black Market</h3>\n                <div className=\"rounded-xl p-3 bg-red-900/20 border border-red-500/30\">\n                  <div className=\"flex items-center justify-between gap-2\">\n                    <div>\n                      <div className=\"font-semibold text-red-300\">Cracked Plugins</div>\n                      <div className=\"text-xs opacity-80 text-red-200\">\n                        {CONFIG.balance.blackMarket.crackedPlugins.description}\n                      </div>\n                      <div className=\"text-xs text-red-400 mt-1\">\n                        âš ï¸ <strong>5% risk of catastrophic virus</strong> - may force game reset\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"text-sm font-bold text-red-400\">${CONFIG.balance.blackMarket.crackedPlugins.cost}</div>\n                      <button \n                        onClick={buyCrackedPlugins} \n                        disabled={cash < CONFIG.balance.blackMarket.crackedPlugins.cost || isBlackMarketActive()}\n                        className={`mt-2 px-3 py-1.5 rounded-lg text-xs font-semibold ${\n                          cash < CONFIG.balance.blackMarket.crackedPlugins.cost || isBlackMarketActive() \n                            ? \"bg-neutral-700 opacity-60\" \n                            : \"bg-red-600 hover:bg-red-500\"\n                        }`}\n                        title=\"âš ï¸ WARNING: 5% chance of catastrophic virus that will reset your game!\"\n                      >\n                        {isBlackMarketActive() ? \"Active\" : \"Buy (Risky)\"}\n                      </button>\n                    </div>\n                  </div>\n                  {isBlackMarketActive() && (\n                    <div className=\"mt-2 text-xs text-red-300\">\n                      â° Active for {Math.max(0, Math.ceil((blackMarketEffects.expiresAt - tick) / 24))} more hours\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        </section>\n        \n        {/* Research Panel */}\n        {showResearchPanel && (\n          <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/80\">\n            <div className=\"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 max-w-2xl mx-4 max-h-[80vh] overflow-auto\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-2xl font-bold\">ðŸ”¬ Research & Development</h2>\n                <button \n                  onClick={() => setShowResearchPanel(false)}\n                  className=\"text-neutral-400 hover:text-white\"\n                >\n                  âœ•\n                </button>\n              </div>\n              <div className=\"text-sm text-neutral-400 mb-4\">\n                Permanent global upgrades. Each purchase increases the next cost by 50%.\n              </div>\n              <div className=\"grid grid-cols-1 gap-3\">\n                {CONFIG.balance.research.upgrades.map((research) => {\n                  const level = getResearchLevel(research.id);\n                  const cost = getResearchCost(research.id);\n                  const effect = getResearchEffect(research.id);\n                  const isMaxed = level >= CONFIG.balance.research.maxLevel;\n                  \n                  return (\n                    <div key={research.id} className=\"bg-neutral-800 rounded-xl p-4 border border-neutral-700\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <span className=\"text-xl\">{research.icon}</span>\n                            <span className=\"font-semibold\">{research.name}</span>\n                            <span className=\"text-xs bg-neutral-700 px-2 py-1 rounded\">\n                              Level {level}/{CONFIG.balance.research.maxLevel}\n                            </span>\n                          </div>\n                          <div className=\"text-sm text-neutral-300 mb-2\">{research.description}</div>\n                          <div className=\"text-xs text-neutral-400\">\n                            Current effect: {research.effect === \"failPenalty\" || research.effect === \"energyDrain\" ? \"-\" : \"+\"}{(effect * 100).toFixed(0)}%\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"text-lg font-bold text-emerald-400\">\n                            ${cost.toLocaleString()}\n                          </div>\n                          <button \n                            onClick={() => buyResearch(research.id)}\n                            disabled={isMaxed || cash < cost}\n                            className={`mt-2 px-4 py-2 rounded-lg font-semibold ${\n                              isMaxed \n                                ? \"bg-neutral-700 opacity-60\" \n                                : cash < cost \n                                  ? \"bg-neutral-700 opacity-80\" \n                                  : \"bg-emerald-600 hover:bg-emerald-500\"\n                            }`}\n                          >\n                            {isMaxed ? \"Maxed\" : \"Research\"}\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Prestige Modal */}\n        {showPrestigeModal && (\n          <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/80\">\n            <div className=\"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 max-w-2xl mx-4 max-h-[80vh] overflow-auto\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-2xl font-bold text-purple-400\">ðŸŒŸ Prestige System</h2>\n                <button \n                  onClick={() => setShowPrestigeModal(false)}\n                  className=\"text-neutral-400 hover:text-white\"\n                >\n                  âœ•\n                </button>\n              </div>\n              \n              <div className=\"mb-6\">\n                <div className=\"bg-purple-900/20 border border-purple-500/30 rounded-xl p-4 mb-4\">\n                  <h3 className=\"font-bold text-purple-300 mb-2\">Requirements</h3>\n                  <div className=\"text-sm space-y-1\">\n                    <div className={`flex items-center gap-2 ${reputation >= CONFIG.balance.prestige.requirements.reputation ? 'text-green-400' : 'text-red-400'}`}>\n                      {reputation >= CONFIG.balance.prestige.requirements.reputation ? 'âœ“' : 'âœ—'} Reputation: {reputation}/{CONFIG.balance.prestige.requirements.reputation}\n                    </div>\n                    <div className={`flex items-center gap-2 ${cash >= CONFIG.balance.prestige.requirements.cash ? 'text-green-400' : 'text-red-400'}`}>\n                      {cash >= CONFIG.balance.prestige.requirements.cash ? 'âœ“' : 'âœ—'} Cash: ${cash.toLocaleString()}/${CONFIG.balance.prestige.requirements.cash.toLocaleString()}\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"bg-neutral-800 rounded-xl p-4 mb-4\">\n                  <h3 className=\"font-bold mb-2\">Current Status</h3>\n                  <div className=\"text-sm space-y-1\">\n                    <div>Prestige Points: <span className=\"text-purple-400 font-bold\">{prestigePoints}</span></div>\n                    <div>Season High Reputation: <span className=\"text-blue-400 font-bold\">{seasonHighRep}</span></div>\n                  </div>\n                </div>\n                \n                <div className=\"bg-neutral-800 rounded-xl p-4\">\n                  <h3 className=\"font-bold mb-2\">Meta Perks (Active)</h3>\n                  <div className=\"text-sm space-y-1\">\n                    {CONFIG.balance.prestige.perks.map((perk) => {\n                      const effect = getPrestigePerkEffect(perk.id);\n                      return (\n                        <div key={perk.id} className=\"flex items-center gap-2\">\n                          <span>{perk.icon}</span>\n                          <span>{perk.name}:</span>\n                          <span className={`font-bold ${effect > 0 ? 'text-green-400' : 'text-neutral-400'}`}>\n                            {perk.effect === \"salaryReduction\" || perk.effect === \"energyEfficiency\" ? \"-\" : \"+\"}{(effect * 100).toFixed(0)}%\n                          </span>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"flex gap-4 justify-center\">\n                <button \n                  onClick={performPrestige}\n                  disabled={!canPrestige()}\n                  className={`px-6 py-3 rounded-lg font-bold transition-colors ${\n                    canPrestige()\n                      ? \"bg-purple-600 hover:bg-purple-500 text-white\"\n                      : \"bg-neutral-700 opacity-60 text-neutral-400\"\n                  }`}\n                >\n                  {canPrestige() ? \"ðŸŒŸ Prestige Now\" : \"Requirements Not Met\"}\n                </button>\n                <button \n                  onClick={() => setShowPrestigeModal(false)}\n                  className=\"px-6 py-3 bg-neutral-700 hover:bg-neutral-600 rounded-lg font-bold transition-colors\"\n                >\n                  Cancel\n                </button>\n              </div>\n              \n              <div className=\"text-xs text-neutral-400 mt-4 text-center\">\n                âš ï¸ Prestige will reset your game but keep your prestige points and meta perks\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Achievements Panel */}\n        {showAchievementsPanel && (\n          <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/80\">\n            <div className=\"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 max-w-4xl mx-4 max-h-[80vh] overflow-auto\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-2xl font-bold text-yellow-400\">ðŸ† Achievements</h2>\n                <button \n                  onClick={() => setShowAchievementsPanel(false)}\n                  className=\"text-neutral-400 hover:text-white\"\n                >\n                  âœ•\n                </button>\n              </div>\n              \n              <div className=\"text-sm text-neutral-400 mb-4\">\n                Unlock achievements by reaching various milestones. These are purely cosmetic badges.\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {Object.entries(CONFIG.achievements).map(([key, achievement]) => {\n                  const isUnlocked = achievements.has(achievement.id);\n                  const progress = getAchievementProgress(achievement.id);\n                  const percentage = Math.min(100, (progress / achievement.requirement) * 100);\n                  \n                  return (\n                    <div \n                      key={achievement.id} \n                      className={`rounded-xl p-4 border-2 transition-all ${\n                        isUnlocked \n                          ? `bg-neutral-800 border-${achievement.color.replace('text-', '')} opacity-100` \n                          : 'bg-neutral-800/50 border-neutral-700 opacity-60'\n                      }`}\n                    >\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <div className={`text-2xl ${isUnlocked ? achievement.color : 'text-neutral-500'}`}>\n                          {achievement.icon}\n                        </div>\n                        <div className=\"flex-1\">\n                          <div className={`font-bold ${isUnlocked ? achievement.color : 'text-neutral-400'}`}>\n                            {achievement.name}\n                          </div>\n                          <div className=\"text-sm text-neutral-300\">\n                            {achievement.description}\n                          </div>\n                        </div>\n                        {isUnlocked && (\n                          <div className=\"text-green-400 text-xl\">âœ“</div>\n                        )}\n                      </div>\n                      \n                      <div className=\"mt-3\">\n                        <div className=\"flex justify-between text-xs mb-1\">\n                          <span className=\"text-neutral-400\">Progress</span>\n                          <span className={isUnlocked ? achievement.color : 'text-neutral-400'}>\n                            {progress}/{achievement.requirement}\n                          </span>\n                        </div>\n                        <div className=\"w-full bg-neutral-700 rounded-full h-2\">\n                          <div \n                            className={`h-2 rounded-full transition-all duration-300 ${\n                              isUnlocked ? achievement.color.replace('text-', 'bg-') : 'bg-neutral-600'\n                            }`}\n                            style={{ width: `${percentage}%` }}\n                          ></div>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              \n              <div className=\"mt-6 text-center text-sm text-neutral-400\">\n                {achievements.size}/{Object.keys(CONFIG.achievements).length} achievements unlocked\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Submit Run Modal */}\n        {submitRunStatus && (\n          <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/80\">\n            <div className=\"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 max-w-md mx-4\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-2xl font-bold\">ðŸ† Submit Run</h2>\n                <button \n                  onClick={() => setSubmitRunStatus(null)}\n                  className=\"text-neutral-400 hover:text-white\"\n                >\n                  âœ•\n                </button>\n              </div>\n              \n              <div className={`p-4 rounded-xl mb-4 ${\n                submitRunStatus.type === 'loading' ? 'bg-blue-900/20 border border-blue-500/30' :\n                submitRunStatus.type === 'success' ? 'bg-green-900/20 border border-green-500/30' :\n                'bg-red-900/20 border border-red-500/30'\n              }`}>\n                <div className={`text-center ${\n                  submitRunStatus.type === 'loading' ? 'text-blue-300' :\n                  submitRunStatus.type === 'success' ? 'text-green-300' :\n                  'text-red-300'\n                }`}>\n                  {submitRunStatus.message}\n                </div>\n              </div>\n              \n              <div className=\"flex justify-center\">\n                <button \n                  onClick={() => setSubmitRunStatus(null)}\n                  className=\"px-6 py-2 bg-neutral-700 hover:bg-neutral-600 rounded-lg transition-colors\"\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Event Log */}\n      <section className=\"mt-4 grid grid-cols-1 xl:grid-cols-3 gap-4\">\n        <div className=\"xl:col-span-2 bg-neutral-900/60 rounded-2xl p-4 border border-neutral-800/60\">\n          <h2 className=\"font-bold text-lg mb-2\">Studio Feed</h2>\n          <div className=\"max-h-[200px] overflow-auto pr-2 text-sm space-y-1\">\n            {eventLog.map((line, idx) => (\n              <div key={idx} className={line.startsWith(\"[\") ? \"text-orange-300/80\" : \"opacity-90\"}>{line}</div>\n            ))}\n          </div>\n        </div>\n        <div className=\"bg-neutral-900/60 rounded-2xl p-4 border border-neutral-800/60\">\n          <h2 className=\"font-bold text-lg mb-2\">Tips</h2>\n          <ul className=\"text-sm list-disc pl-5 space-y-1 opacity-90\">\n            <li>Shop: plugins boost editor speed; district.jp boosts client flow.</li>\n            <li>Start the clock, accept small jobs â€” editors autoâ€‘rest and resume at full energy.</li>\n            <li>Train editors and upgrade PCs to hit higher difficulty jobs.</li>\n            <li>Missed deadlines crush reputation â€” keep an eye on due hours.</li>\n            <li>ðŸ‘¥ Team efficiency decays after 10 editors; hire managers to offset this.</li>\n            <li>ðŸ†• New hires need onboarding time; shown on editor cards.</li>\n            <li>ðŸ’° Costs scale exponentially; upgrades have diminishing returns.</li>\n            <li>ðŸ’¸ Daily overhead: software licenses + facility costs scale with team size.</li>\n            <li>âš ï¸ Watch for payroll risk warnings when daily burn exceeds cash.</li>\n            <li>ðŸ† Job tiers unlock at Rep 10/25/50/90; higher tiers pay more.</li>\n            <li>ðŸ“ˆ Market cycles every 7 days: one job type boosted, one nerfed.</li>\n            <li>â° Grace window: 95%+ jobs get 6h extra with reduced payout.</li>\n            <li>ðŸ’» PC stability reduces crash chance; burnout after 12h work.</li>\n            <li>ðŸŽ² Meme events: Random daily events with cash impacts and animations.</li>\n            <li>ðŸ–¤ Black Market: Cracked plugins boost performance but risk catastrophic virus.</li>\n            <li>ðŸ”¬ Research: Permanent global upgrades with increasing costs.</li>\n            <li>ðŸŒŸ Prestige: Reset for meta perks when Rep 100+ and $10,000+ cash.</li>\n            <li>ðŸ† Achievements: Unlock cosmetic badges by reaching various milestones.</li>\n            <li>ðŸ“ˆ Marketing: Cost scales with daily use; sometimes spawns 3 leads instead of 2.</li>\n            <li>â­ Reputation Tiers: Rookie â†’ Pro â†’ Legend â†’ Master â†’ Icon with unlock tooltips.</li>\n            <li>ðŸ“Š Leaderboard: Submit runs and compete with other players (requires API configuration).</li>\n            <li>ðŸ“§ Request Handle: Get a custom handle for leaderboard submissions.</li>\n            <li>ðŸ” Health Check: Automatic integrity verification every 7 in-game days with corruption detection.</li>\n            <li>ðŸ”§ Dev Commands: Press <code>`</code> (backtick) to open command palette for testing and debugging.</li>\n            <li>ðŸ“‹ Changelog: Track all feature changes, migrations, and dev actions with detailed timestamps.</li>\n            <li>ðŸ’¾ Game autosaves every 10 ticks and when you switch tabs/windows.</li>\n            <li>Export/Import: Download saves as JSON files or load previous saves.</li>\n            <li>Cloud backup: Set CONFIG.cloudBackupUrl to enable cloud saves.</li>\n          </ul>\n        </div>\n      </section>\n\n              {/* Dev Overlay */}\n        {devOverlay && showDevFeatures && (\n        <section className=\"mt-4 bg-neutral-900/60 rounded-2xl p-4 border border-neutral-800/60\">\n          <h2 className=\"font-bold text-lg mb-3\">Dev Overlay â€” Team Efficiency</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-16 gap-4\">\n            <div>\n              <h3 className=\"font-semibold mb-2\">Efficiency Breakdown</h3>\n              <div className=\"space-y-2 text-sm\">\n                <div>Base Efficiency: 100%</div>\n                {editors.length > CONFIG.balance.efficiencyDecayStart && (\n                  <div className=\"text-orange-400\">\n                    Decay: -{((editors.length - CONFIG.balance.efficiencyDecayStart) * CONFIG.balance.efficiencyDecayRate * 100).toFixed(1)}%\n                  </div>\n                )}\n                {managers > 0 && (\n                  <div className=\"text-green-400\">\n                    Manager Bonus: +{(managers * CONFIG.balance.managerEfficiencyBonus * 100).toFixed(1)}%\n                  </div>\n                )}\n                <div className=\"font-semibold\">\n                  Final Efficiency: {(teamEfficiency * 100).toFixed(1)}%\n                </div>\n              </div>\n            </div>\n                         <div>\n               <h3 className=\"font-semibold mb-2\">Manager System</h3>\n               <div className=\"space-y-2 text-sm\">\n                 <div>Current Managers: {managers}/{availableManagerSlots}</div>\n                 <div>Max Managers: {CONFIG.balance.maxManagers}</div>\n                 <div>Manager Salary: ${CONFIG.balance.managerSalary}/day each</div>\n                 <div>Efficiency Bonus: +{(CONFIG.balance.managerEfficiencyBonus * 100).toFixed(0)}% each</div>\n                 <div className=\"text-xs opacity-70\">\n                   Unlock thresholds: {CONFIG.balance.managerUnlockThresholds.join(', ')} editors\n                 </div>\n               </div>\n             </div>\n                           <div>\n                <h3 className=\"font-semibold mb-2\">Cost Scaling</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Hire Editor: ${getHireEditorCost()} ({(CONFIG.balance.hireEditor.scalingFactor - 1) * 100}% growth)</div>\n                  <div>Buy PC: ${getBuyPCCost()} ({(CONFIG.balance.buyPC.scalingFactor - 1) * 100}% growth)</div>\n                  <div>Train Editor: ${getTrainEditorCost('example')} ({(CONFIG.balance.trainEditor.scalingFactor - 1) * 100}% growth)</div>\n                  <div>Upgrade PC: ${getUpgradePCCost('example')} ({(CONFIG.balance.upgradePC.scalingFactor - 1) * 100}% growth)</div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Daily Overhead</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Software Licenses: ${editors.length * CONFIG.balance.overhead.softwareLicense.perEditor + pcs.length * CONFIG.balance.overhead.softwareLicense.perPC}/day</div>\n                  <div>Facility Cost: ${Math.round(CONFIG.balance.overhead.facility.baseCost + (Math.log(editors.length + pcs.length + 1) * CONFIG.balance.overhead.facility.logarithmicFactor))}/day</div>\n                  <div>Total Overhead: ${getDailyOverhead()}/day</div>\n                  <div>Total Daily Burn: ${getDailySalaries() + getDailyOverhead()}/day</div>\n                                    <div className=\"text-xs opacity-70\">\n                    Software: ${CONFIG.balance.overhead.softwareLicense.perEditor}/editor, ${CONFIG.balance.overhead.softwareLicense.perPC}/PC\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Market Cycle</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Current Cycle: {marketCycle.currentCycle}</div>\n                  <div>Days in Cycle: {day - marketCycle.cycleStartDay + 1}/{CONFIG.balance.marketCycle.cycleLength}</div>\n                  {marketCycle.boostedType && (\n                    <div className=\"text-green-400\">\n                      ðŸ“ˆ Boosted: {marketCycle.boostedType} (+{(CONFIG.balance.marketCycle.boostMultiplier - 1) * 100}%)\n                    </div>\n                  )}\n                  {marketCycle.nerfedType && (\n                    <div className=\"text-red-400\">\n                      ðŸ“‰ Nerfed: {marketCycle.nerfedType} (-{(1 - CONFIG.balance.marketCycle.nerfMultiplier) * 100}%)\n                    </div>\n                  )}\n                  <div className=\"text-xs opacity-70\">\n                    Cycles every {CONFIG.balance.marketCycle.cycleLength} days\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Work Mechanics</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Grace Window: {(CONFIG.balance.jobMechanics.graceWindow.threshold * 100).toFixed(0)}% completion</div>\n                  <div>Grace Hours: +{CONFIG.balance.jobMechanics.graceWindow.extraHours}h</div>\n                  <div>Grace Payout: {(CONFIG.balance.jobMechanics.graceWindow.payoutMultiplier * 100).toFixed(0)}%</div>\n                  <div>Burnout Threshold: {CONFIG.balance.jobMechanics.burnout.threshold}h</div>\n                  <div>Burnout Drain: {CONFIG.balance.jobMechanics.burnout.energyDrainMultiplier}x</div>\n                  <div>PC Crash Base: {(CONFIG.balance.jobMechanics.pcCrash.baseChance * 100).toFixed(1)}%</div>\n                  <div className=\"text-xs opacity-70\">\n                    Stability reduces crash chance\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Black Market</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Feature Enabled: {CONFIG.featureFlags.blackMarket ? \"Yes\" : \"No\"}</div>\n                  <div>Active: {isBlackMarketActive() ? \"Yes\" : \"No\"}</div>\n                  {isBlackMarketActive() && (\n                    <>\n                      <div>Skill Boost: +{getBlackMarketSkillBoost()}</div>\n                      <div>Speed Boost: +{getBlackMarketSpeedBoost()}x</div>\n                      <div>Expires: {Math.max(0, Math.ceil((blackMarketEffects.expiresAt - tick) / 24))}h</div>\n                    </>\n                  )}\n                  <div>Cost: ${CONFIG.balance.blackMarket.crackedPlugins.cost}</div>\n                  <div>Virus Risk: {(CONFIG.balance.blackMarket.crackedPlugins.virusRisk * 100).toFixed(1)}%</div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Research</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Base Cost: ${CONFIG.balance.research.baseCost}</div>\n                  <div>Cost Multiplier: {(CONFIG.balance.research.costMultiplier - 1) * 100}%</div>\n                  <div>Max Level: {CONFIG.balance.research.maxLevel}</div>\n                  <div>Progress Boost: +{(getGlobalProgressBoost() * 100).toFixed(1)}%</div>\n                  <div>Payout Boost: +{(getGlobalPayoutBoost() * 100).toFixed(1)}%</div>\n                  <div>Fail Penalty: -{(getGlobalFailPenaltyReduction() * 100).toFixed(1)}%</div>\n                  <div>Energy Efficiency: -{(getGlobalEnergyEfficiency() * 100).toFixed(1)}%</div>\n                  <div>Reputation Boost: +{(getGlobalReputationBoost() * 100).toFixed(1)}%</div>\n                </div>\n              </div>\n              {CONFIG.featureFlags.prestige && (\n                <div>\n                  <h3 className=\"font-semibold mb-2\">Prestige</h3>\n                  <div className=\"space-y-2 text-sm\">\n                    <div>Prestige Points: {prestigePoints}</div>\n                    <div>Season High Rep: {seasonHighRep}</div>\n                    <div>Spawn Rate Bonus: +{(getPrestigeSpawnRateBonus() * 100).toFixed(1)}%</div>\n                    <div>Salary Reduction: -{(getPrestigeSalaryReduction() * 100).toFixed(1)}%</div>\n                    <div>Training Efficiency: +{(getPrestigeTrainingEfficiency() * 100).toFixed(1)}%</div>\n                    <div>PC Efficiency: +{(getPrestigePCEfficiency() * 100).toFixed(1)}%</div>\n                    <div>Energy Efficiency: -{(getPrestigeEnergyEfficiency() * 100).toFixed(1)}%</div>\n                  </div>\n                </div>\n              )}\n              <div>\n                <h3 className=\"font-semibold mb-2\">Achievements</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Unlocked: {achievements.size}/{Object.keys(CONFIG.achievements).length}</div>\n                  <div>Flawless Deliveries: {achievementStats.flawlessDeliveries}</div>\n                  <div>Overnight Jobs: {achievementStats.overnightJobs}</div>\n                  <div>Speed Demon Jobs: {achievementStats.speedDemonJobs}</div>\n                  <div>Quality Master Jobs: {achievementStats.qualityMasterJobs}</div>\n                  <div>Max Work Hours: {achievementStats.maxWorkHours}</div>\n                  <div>Market Cycles: {achievementStats.marketCycles}</div>\n                  <div>Max Research Categories: {achievementStats.maxResearchCategories}</div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Reputation Tiers</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Current Tier: {getCurrentReputationTier().name} ({reputation} rep)</div>\n                  {getNextReputationUnlock() && (\n                    <div>Next Unlock: {getNextReputationUnlock().reputation} rep - {getNextReputationUnlock().description}</div>\n                  )}\n                  <div className=\"text-xs opacity-70\">\n                    Tiers: Rookie (0-9) â†’ Pro (10-24) â†’ Legend (25-49) â†’ Master (50-89) â†’ Icon (90+)\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Marketing</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Base Cost: ${CONFIG.marketing.baseCost}</div>\n                  <div>Cost Multiplier: {(CONFIG.marketing.costMultiplier - 1) * 100}% per use</div>\n                  <div>Max Uses Per Day: {CONFIG.marketing.maxUsesPerDay}</div>\n                  <div>Current Cost: ${getMarketingCost()}</div>\n                  <div>Uses Today: {marketingUsage.usesToday}/{CONFIG.marketing.maxUsesPerDay}</div>\n                  <div>Lead Count: {CONFIG.marketing.leadCount.min}-{CONFIG.marketing.leadCount.max} (30% chance for 3)</div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">API Configuration</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Submit Run: {CONFIG.api.submitRunUrl ? 'Configured' : 'Not configured'}</div>\n                  <div>Leaderboard: {CONFIG.api.leaderboardUrl ? 'Configured' : 'Not configured'}</div>\n                  <div>Request Handle: {CONFIG.api.requestHandleUrl ? 'Configured' : 'Not configured'}</div>\n                  <div>Timeout: {CONFIG.api.timeout}ms</div>\n                  <div>Retry Delay: {CONFIG.api.retryDelay}ms</div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Health Check</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Last Check: Day {lastHealthCheck}</div>\n                  <div>Next Check: Day {lastHealthCheck + CONFIG.healthCheck.interval}</div>\n                  <div>Current Day: {Math.floor(tick / 24)}</div>\n                  <div>Simulation Days: {CONFIG.healthCheck.simulationDays}</div>\n                  <div>Min Leads/Day: {CONFIG.healthCheck.minLeadsPerDay}</div>\n                  {healthCheckWarning && (\n                    <div className=\"text-red-400 font-semibold\">âš ï¸ Health check failed</div>\n                  )}\n                  {softClampWarnings.length > 0 && (\n                    <div className=\"text-yellow-400 font-semibold\">âš ï¸ {softClampWarnings.length} soft clamp warnings</div>\n                  )}\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Performance</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>FPS: {performanceMetrics.fps}</div>\n                  <div>Render Time: {performanceMetrics.renderTime.toFixed(1)}ms</div>\n                  <div>Tick Time: {performanceMetrics.tickTime.toFixed(1)}ms</div>\n                  <div>Memory: {performanceMetrics.memoryUsage.toFixed(1)}MB</div>\n                  <div>Render Count: {performanceMetrics.renderCount}</div>\n                  <div>Target FPS: {CONFIG.dev.performance.targetFPS}</div>\n                  <div>Max Render: {CONFIG.dev.performance.maxRenderTime}ms</div>\n                  <div>Max Tick: {CONFIG.dev.performance.maxTickTime}ms</div>\n                  {performanceWarnings.length > 0 && (\n                    <div className=\"text-yellow-400 font-semibold\">âš ï¸ {performanceWarnings.length} performance warnings</div>\n                  )}\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Meme Events</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div>Daily Chance: {(CONFIG.balance.memeEvents.dailyChance * 100).toFixed(2)}%</div>\n                  <div>Max Per Day: {CONFIG.balance.memeEvents.maxPerDay}</div>\n                  <div>Events Today: {memeEventState.eventsToday}</div>\n                  <div>Current Day: {getCurrentDay()}</div>\n                  {memeEventState.lastEventId && (\n                    <div className=\"text-xs opacity-70\">\n                      Last: {CONFIG.balance.memeEvents.events.find(e => e.id === memeEventState.lastEventId)?.title}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </section>\n      )}\n\n      {currentRoute === 'game' ? (\n        <>\n          <footer className=\"mt-6 text-center text-xs opacity-60\">Have fun stacking plugins and scaling your studio ðŸ</footer>\n        </>\n      ) : (\n        <LeaderboardRoute \n          leaderboardData={leaderboardData}\n          leaderboardLoading={leaderboardLoading}\n          leaderboardError={leaderboardError}\n          requestHandleForm={requestHandleForm}\n          setRequestHandleForm={setRequestHandleForm}\n          requestHandleStatus={requestHandleStatus}\n          onFetchLeaderboard={fetchLeaderboard}\n          onRequestHandle={requestHandle}\n          onBackToGame={() => setCurrentRoute('game')}\n          getSampleData={getSampleLeaderboardData}\n        />\n      )}\n      \n      {/* Meme Event Modal */}\n      <MemeEventModal \n        event={activeMemeEvent} \n        onClose={() => setActiveMemeEvent(null)} \n      />\n      \n      {/* Virus Warning Modal */}\n      <VirusWarningModal \n        countdown={virusCountdown}\n        onExport={handleVirusExport}\n      />\n      \n      {/* Command Palette */}\n      {showCommandPalette && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80\">\n          <div className=\"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 max-w-2xl mx-4 w-full\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-bold\">ðŸ”§ Dev Command Palette</h2>\n              <button \n                onClick={() => setShowCommandPalette(false)}\n                className=\"text-neutral-400 hover:text-white\"\n              >\n                âœ•\n              </button>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Command</label>\n                <input\n                  type=\"text\"\n                  value={commandInput}\n                  onChange={(e) => setCommandInput(e.target.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      if (commandInput.trim()) {\n                        executeCommand(commandInput);\n                        setCommandInput('');\n                        setShowCommandPalette(false);\n                      }\n                    } else if (e.key === 'Escape') {\n                      setShowCommandPalette(false);\n                    } else if (e.key === 'ArrowUp') {\n                      e.preventDefault();\n                      if (commandHistoryIndex < commandHistory.length - 1) {\n                        const newIndex = commandHistoryIndex + 1;\n                        setCommandHistoryIndex(newIndex);\n                        setCommandInput(commandHistory[newIndex]);\n                      }\n                    } else if (e.key === 'ArrowDown') {\n                      e.preventDefault();\n                      if (commandHistoryIndex > 0) {\n                        const newIndex = commandHistoryIndex - 1;\n                        setCommandHistoryIndex(newIndex);\n                        setCommandInput(commandHistory[newIndex]);\n                      } else if (commandHistoryIndex === 0) {\n                        setCommandHistoryIndex(-1);\n                        setCommandInput('');\n                      }\n                    }\n                  }}\n                  placeholder=\"Type a command (e.g., 'sim 30', 'cash 100000', 'leads 10')\"\n                  className=\"w-full bg-neutral-800 border border-neutral-700 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n                  autoFocus\n                />\n              </div>\n              \n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\n                <button \n                  onClick={() => executeCommand('sim 30')}\n                  className=\"px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg text-sm font-semibold\"\n                >\n                  ðŸ”® Sim 30d\n                </button>\n                <button \n                  onClick={() => executeCommand('cash 100000')}\n                  className=\"px-3 py-2 bg-green-600 hover:bg-green-500 rounded-lg text-sm font-semibold\"\n                >\n                  ðŸ’° Fill Cash\n                </button>\n                <button \n                  onClick={() => executeCommand('leads 10')}\n                  className=\"px-3 py-2 bg-orange-600 hover:bg-orange-500 rounded-lg text-sm font-semibold\"\n                >\n                  ðŸ“‹ Spawn Leads\n                </button>\n                <button \n                  onClick={() => executeCommand('flag blackMarket')}\n                  className=\"px-3 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-sm font-semibold\"\n                >\n                  ðŸ”§ Toggle Flag\n                </button>\n                <button \n                  onClick={() => executeCommand('reset')}\n                  className=\"px-3 py-2 bg-red-600 hover:bg-red-500 rounded-lg text-sm font-semibold\"\n                >\n                  ðŸ”„ Reset\n                </button>\n                <button \n                  onClick={() => executeCommand('logs')}\n                  className=\"px-3 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-lg text-sm font-semibold\"\n                >\n                  ðŸ“‹ Export Logs\n                </button>\n                <button \n                  onClick={() => executeCommand('perf')}\n                  className=\"px-3 py-2 bg-teal-600 hover:bg-teal-500 rounded-lg text-sm font-semibold\"\n                >\n                  ðŸ”¬ Perf Test\n                </button>\n              </div>\n              \n              <div className=\"text-xs text-neutral-400\">\n                <div className=\"font-semibold mb-1\">Available Commands:</div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-1\">\n                  <div>â€¢ <code>sim [days]</code> - Run simulation</div>\n                  <div>â€¢ <code>cash [amount]</code> - Fill cash</div>\n                  <div>â€¢ <code>leads [count]</code> - Spawn leads</div>\n                  <div>â€¢ <code>flag [name]</code> - Toggle feature flag</div>\n                  <div>â€¢ <code>reset</code> - Reset to last good save</div>\n                  <div>â€¢ <code>logs</code> - Export logs</div>\n                  <div>â€¢ <code>perf</code> - Run performance test</div>\n                  <div>â€¢ <code>help</code> - Show help</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Changelog Panel */}\n      {showChangelog && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80\">\n          <div className=\"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 max-w-4xl mx-4 w-full max-h-[80vh] overflow-hidden\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-bold\">ðŸ“‹ Changelog</h2>\n              <button \n                onClick={() => setShowChangelog(false)}\n                className=\"text-neutral-400 hover:text-white\"\n              >\n                âœ•\n              </button>\n            </div>\n            \n            <div className=\"overflow-y-auto max-h-[60vh] space-y-3\">\n              {changelog.length === 0 ? (\n                <div className=\"text-center py-8 text-neutral-400\">\n                  No changelog entries yet\n                </div>\n              ) : (\n                changelog.map((entry) => (\n                  <div key={entry.id} className=\"bg-neutral-800 rounded-lg p-3 border border-neutral-700\">\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <div className={`text-sm px-2 py-1 rounded ${\n                          entry.type === 'feature' ? 'bg-blue-900/50 text-blue-300' :\n                          entry.type === 'migration' ? 'bg-yellow-900/50 text-yellow-300' :\n                          entry.type === 'dev' ? 'bg-purple-900/50 text-purple-300' :\n                          'bg-neutral-700 text-neutral-300'\n                        }`}>\n                          {entry.type}\n                        </div>\n                        <div className=\"text-sm text-neutral-400\">\n                          Day {entry.day} (Tick {entry.tick})\n                        </div>\n                      </div>\n                      <div className=\"text-xs text-neutral-500\">\n                        {new Date(entry.timestamp).toLocaleString()}\n                      </div>\n                    </div>\n                    <div className=\"font-medium mb-1\">{entry.message}</div>\n                    {entry.details && (\n                      <div className=\"text-sm text-neutral-400\">\n                        <pre className=\"whitespace-pre-wrap text-xs bg-neutral-900 p-2 rounded\">\n                          {JSON.stringify(entry.details, null, 2)}\n                        </pre>\n                      </div>\n                    )}\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== Leaderboard Route ====================\nfunction LeaderboardRoute({\n  leaderboardData,\n  leaderboardLoading,\n  leaderboardError,\n  requestHandleForm,\n  setRequestHandleForm,\n  requestHandleStatus,\n  onFetchLeaderboard,\n  onRequestHandle,\n  onBackToGame,\n  getSampleData\n}) {\n  const [showRequestForm, setShowRequestForm] = useState(false);\n  \n  // Load leaderboard on mount\n  useEffect(() => {\n    if (CONFIG.api.leaderboardUrl) {\n      onFetchLeaderboard().catch(() => {\n        // Error handled by the function\n      });\n    }\n  }, [onFetchLeaderboard]);\n\n  const handleSubmitRun = async () => {\n    const handle = prompt(\"Enter your handle:\");\n    if (!handle) return;\n    \n    const funniestEvent = prompt(\"What was the funniest thing that happened? (optional):\");\n    \n    try {\n      await submitRun(\n        handle,\n        reputation,\n        cash,\n        jobs.filter(j => j.status === \"done\").length,\n        funniestEvent || \"Nothing funny happened\"\n      );\n    } catch (error) {\n      // Error handled by submitRun function\n    }\n  };\n\n  const handleRequestHandle = async (e) => {\n    e.preventDefault();\n    if (!requestHandleForm.email || !requestHandleForm.preferredHandle) {\n      alert(\"Please fill in both email and preferred handle\");\n      return;\n    }\n    \n    try {\n      await onRequestHandle(requestHandleForm.email, requestHandleForm.preferredHandle);\n      setRequestHandleForm({ email: '', preferredHandle: '' });\n      setShowRequestForm(false);\n    } catch (error) {\n      // Error handled by onRequestHandle function\n    }\n  };\n\n  const displayData = CONFIG.api.leaderboardUrl ? leaderboardData : getSampleData();\n\n  return (\n    <div className=\"min-h-screen w-full bg-neutral-950 text-neutral-100 p-4 md:p-6\">\n      {/* Header */}\n      <div className=\"flex flex-col md:flex-row gap-3 md:items-center md:justify-between\">\n        <h1 className=\"text-2xl md:text-3xl font-black tracking-tight\">\n          ðŸ“Š Leaderboard\n        </h1>\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <button onClick={onBackToGame} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-neutral-800 hover:bg-neutral-700\">\n            â† Back to Game\n          </button>\n          {CONFIG.api.submitRunUrl && (\n            <button onClick={handleSubmitRun} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-green-600 hover:bg-green-500\">\n              ðŸ† Submit Run\n            </button>\n          )}\n          {CONFIG.api.requestHandleUrl && (\n            <button onClick={() => setShowRequestForm(true)} className=\"px-3 py-2 rounded-xl text-sm font-semibold shadow bg-blue-600 hover:bg-blue-500\">\n              ðŸ“§ Request Handle\n            </button>\n          )}\n          {CONFIG.api.leaderboardUrl && (\n            <button \n              onClick={() => onFetchLeaderboard()} \n              disabled={leaderboardLoading}\n              className={`px-3 py-2 rounded-xl text-sm font-semibold shadow ${\n                leaderboardLoading ? 'bg-neutral-700 opacity-60' : 'bg-orange-600 hover:bg-orange-500'\n              }`}\n            >\n              {leaderboardLoading ? 'Loading...' : 'ðŸ”„ Refresh'}\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* API Status */}\n      {!CONFIG.api.leaderboardUrl && (\n        <div className=\"mt-4 bg-blue-900/20 border border-blue-500/30 rounded-2xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"text-2xl\">â„¹ï¸</div>\n            <div>\n              <h3 className=\"font-bold text-blue-300\">API Not Configured</h3>\n              <p className=\"text-sm text-blue-200\">\n                Showing sample data. Configure CONFIG.api.leaderboardUrl to connect to a real leaderboard.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Error Display */}\n      {leaderboardError && (\n        <div className=\"mt-4 bg-red-900/20 border border-red-500/30 rounded-2xl p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"text-2xl\">âš ï¸</div>\n            <div>\n              <h3 className=\"font-bold text-red-300\">Error Loading Leaderboard</h3>\n              <p className=\"text-sm text-red-200\">{leaderboardError}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Leaderboard */}\n      <div className=\"mt-6 bg-neutral-900/60 rounded-2xl p-6 border border-neutral-800/60\">\n        <h2 className=\"text-xl font-bold mb-4\">Top Studios</h2>\n        \n        {leaderboardLoading ? (\n          <div className=\"text-center py-8\">\n            <div className=\"text-2xl mb-2\">â³</div>\n            <div>Loading leaderboard...</div>\n          </div>\n        ) : displayData.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <div className=\"text-2xl mb-2\">ðŸ“Š</div>\n            <div>No leaderboard data available</div>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {displayData.map((entry, index) => (\n              <div key={index} className=\"bg-neutral-800 rounded-xl p-4 border border-neutral-700\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className={`text-lg font-bold ${\n                      entry.rank === 1 ? 'text-yellow-400' :\n                      entry.rank === 2 ? 'text-gray-400' :\n                      entry.rank === 3 ? 'text-orange-600' :\n                      'text-neutral-400'\n                    }`}>\n                      #{entry.rank}\n                    </div>\n                    <div className=\"font-semibold text-lg\">{entry.handle}</div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-lg font-bold text-green-400\">${entry.cash.toLocaleString()}</div>\n                    <div className=\"text-sm text-neutral-400\">{entry.reputation} reputation</div>\n                  </div>\n                </div>\n                <div className=\"flex justify-between text-sm text-neutral-300\">\n                  <div>Jobs completed: {entry.jobsCompleted}</div>\n                  <div className=\"text-xs opacity-70\">Funniest: \"{entry.funniestEvent}\"</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Request Handle Modal */}\n      {showRequestForm && (\n        <div className=\"fixed inset-0 z-40 flex items-center justify-center bg-black/80\">\n          <div className=\"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 max-w-md mx-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-bold\">ðŸ“§ Request Handle</h2>\n              <button \n                onClick={() => setShowRequestForm(false)}\n                className=\"text-neutral-400 hover:text-white\"\n              >\n                âœ•\n              </button>\n            </div>\n            \n            <form onSubmit={handleRequestHandle} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Email</label>\n                <input\n                  type=\"email\"\n                  value={requestHandleForm.email}\n                  onChange={(e) => setRequestHandleForm(prev => ({ ...prev, email: e.target.value }))}\n                  className=\"w-full bg-neutral-800 border border-neutral-700 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-2\">Preferred Handle</label>\n                <input\n                  type=\"text\"\n                  value={requestHandleForm.preferredHandle}\n                  onChange={(e) => setRequestHandleForm(prev => ({ ...prev, preferredHandle: e.target.value }))}\n                  className=\"w-full bg-neutral-800 border border-neutral-700 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n                  placeholder=\"e.g., speed_demon\"\n                  required\n                />\n              </div>\n              \n              {requestHandleStatus && (\n                <div className={`p-3 rounded-lg ${\n                  requestHandleStatus.type === 'loading' ? 'bg-blue-900/20 border border-blue-500/30' :\n                  requestHandleStatus.type === 'success' ? 'bg-green-900/20 border border-green-500/30' :\n                  'bg-red-900/20 border border-red-500/30'\n                }`}>\n                  <div className={`text-sm ${\n                    requestHandleStatus.type === 'loading' ? 'text-blue-300' :\n                    requestHandleStatus.type === 'success' ? 'text-green-300' :\n                    'text-red-300'\n                  }`}>\n                    {requestHandleStatus.message}\n                  </div>\n                </div>\n              )}\n              \n              <div className=\"flex gap-3\">\n                <button\n                  type=\"submit\"\n                  disabled={requestHandleStatus?.type === 'loading'}\n                  className={`flex-1 px-4 py-2 rounded-lg font-semibold ${\n                    requestHandleStatus?.type === 'loading'\n                      ? 'bg-neutral-700 opacity-60'\n                      : 'bg-blue-600 hover:bg-blue-500'\n                  }`}\n                >\n                  {requestHandleStatus?.type === 'loading' ? 'Submitting...' : 'Submit Request'}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowRequestForm(false)}\n                  className=\"px-4 py-2 bg-neutral-700 hover:bg-neutral-600 rounded-lg font-semibold\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ==================== Small UI bits ====================\nfunction StatCard({ label, value, sub }) {\n  return (\n    <div className=\"bg-neutral-900/60 border border-neutral-800/60 rounded-2xl p-3\">\n      <div className=\"text-xs opacity-70\">{label}</div>\n      <div className=\"text-xl font-bold\">{value}</div>\n      {sub && <div className=\"text-xs opacity-60\">{sub}</div>}\n    </div>\n  );\n}\n\nfunction Badge({ children, className = \"\" }) { \n  return <span className={`inline-block bg-neutral-900 border border-neutral-700/60 px-2 py-0.5 rounded-md text-[11px] ${className}`}>{children}</span>; \n}\n\nfunction Progress({ value }) {\n  return (\n    <div className=\"w-full h-3 rounded-lg bg-neutral-900 border border-neutral-800/60 overflow-hidden\">\n      <div className=\"h-full bg-emerald-600\" style={{ width: `${clamp(value, 0, 100)}%` }} />\n    </div>\n  );\n}\n\nfunction MemeEventModal({ event, onClose }) {\n  const [timeLeft, setTimeLeft] = useState(2);\n  \n  useEffect(() => {\n    if (!event) return;\n    \n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          onClose();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    \n    return () => clearInterval(timer);\n  }, [event, onClose]);\n  \n  if (!event) return null;\n  \n  const isPositive = event.cashDelta > 0;\n  const sign = isPositive ? \"+\" : \"\";\n  \n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 animate-flash\">\n      <div \n        className={`relative bg-neutral-900 border-4 rounded-2xl p-8 max-w-md mx-4 text-center animate-shake shadow-2xl ${\n          isPositive \n            ? 'border-green-500 shadow-green-500/50' \n            : 'border-red-500 shadow-red-500/50'\n        }`}\n        style={{\n          animation: 'shake 0.5s ease-in-out',\n          boxShadow: `0 0 40px ${isPositive ? 'rgba(34, 197, 94, 0.6)' : 'rgba(239, 68, 68, 0.6)'}`\n        }}\n      >\n        <div className=\"text-6xl mb-4 animate-bounce\">{event.icon}</div>\n        <h2 className={`text-2xl font-bold mb-3 ${event.color}`}>{event.title}</h2>\n        <p className=\"text-neutral-300 mb-4 text-sm leading-relaxed\">{event.description}</p>\n        <div className={`text-4xl font-bold ${event.color} animate-pulse mb-2`}>\n          {sign}${Math.abs(event.cashDelta).toLocaleString()}\n        </div>\n        <div className=\"text-xs text-neutral-400 mb-4\">\n          {isPositive ? \"ðŸ’° Cha-ching!\" : \"ðŸ’¸ Ouch!\"} â€¢ Auto-dismissing in {timeLeft}s\n        </div>\n        <button \n          onClick={onClose}\n          className=\"px-6 py-3 bg-neutral-800 hover:bg-neutral-700 rounded-xl font-semibold transition-all hover:scale-105\"\n        >\n          Close Now\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction VirusWarningModal({ countdown, onExport }) {\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-red-900/90 animate-pulse\">\n      <div className=\"relative bg-black border-4 border-red-500 rounded-2xl p-8 max-w-lg mx-4 text-center animate-bounce\">\n        <div className=\"text-6xl mb-4 animate-pulse\">ðŸ¦ </div>\n        <h2 className=\"text-3xl font-bold mb-4 text-red-400\">SYSTEM COMPROMISED!</h2>\n        <p className=\"text-red-300 mb-6 text-lg\">\n          MALICIOUS CODE DETECTED!<br/>\n          Your system has been infected with a catastrophic virus.\n        </p>\n        <div className=\"text-5xl font-bold text-red-500 mb-6 animate-pulse\">\n          {countdown}\n        </div>\n        <p className=\"text-red-200 mb-6\">\n          System will be reset in {countdown} seconds to prevent further corruption.\n        </p>\n        <div className=\"flex gap-4 justify-center\">\n          <button \n            onClick={onExport}\n            className=\"px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg font-bold transition-colors\"\n          >\n            ðŸ’¾ Export Save\n          </button>\n        </div>\n        <div className=\"text-xs text-red-400 mt-4\">\n          âš ï¸ This is your last chance to save your progress!\n        </div>\n      </div>\n      \n      <style jsx>{`\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-10px); }\n          75% { transform: translateX(10px); }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nfunction Bar({ value, label }) {\n  return (\n    <div>\n      <div className=\"flex justify-between text-xs opacity-70\">\n        <span>{label}</span>\n        <span>{value}%</span>\n      </div>\n      <div className=\"w-full h-2 rounded-md bg-neutral-900 overflow-hidden border border-neutral-800/60\">\n        <div className=\"h-full bg-sky-600\" style={{ width: `${clamp(value, 0, 100)}%` }} />\n      </div>\n    </div>\n  );\n}\n\n// ==================== LocalStorage helpers ====================\nconst KEY_PREFIX = \"car-editor-tycoon:\";\n\nfunction encodeForStorage(value) {\n  const json = JSON.stringify(value);\n  try {\n    const bytes = new TextEncoder().encode(json);\n    const b64 = btoa(String.fromCharCode(...bytes));\n    return \"b64:\" + b64;\n  } catch {\n    return json;\n  }\n}\n\nfunction decodeFromStorage(raw) {\n  try {\n    if (raw.startsWith(\"b64:\")) {\n      const b64 = raw.slice(4);\n      const bytes = Uint8Array.from(atob(b64), (c) => c.charCodeAt(0));\n      const json = new TextDecoder().decode(bytes);\n      return JSON.parse(json);\n    }\n  } catch {}\n  try { return JSON.parse(raw); } catch { return null; }\n}\n\nfunction loadLS(key, fallback) {\n  try {\n    const raw = localStorage.getItem(KEY_PREFIX + key);\n    if (!raw) return fallback;\n    const val = decodeFromStorage(raw);\n    return val ?? fallback;\n  } catch {\n    return fallback;\n  }\n}\n\nfunction saveLS(key, val) {\n  try {\n    const encoded = encodeForStorage(val);\n    localStorage.setItem(KEY_PREFIX + key, encoded);\n  } catch {}\n}\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport CarEditorTycoon from './CarEditorTycoon.jsx'\r\nimport './index.css'\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(\r\n  <React.StrictMode>\r\n    <CarEditorTycoon />\r\n  </React.StrictMode>,\r\n)\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","CONFIG","BRANDS","JOB_TIERS","JOB_TYPES","FRIEND_NAMES","FRIEND_BASE","UPGRADES","rnd","min","max","clamp","v","uid","makeStarterEditors","makeStarterPCs","randomClientJob","tick","availableJobTypes","getJobPayout","t","difficulty","hours","basePayout","payout","deadline","randomClientName","first","last","biz","CarEditorTycoon","setTick","useState","playing","setPlaying","speed","setSpeed","cash","setCash","reputation","setReputation","autoAssign","setAutoAssign","editors","setEditors","loadLS","pcs","setPCs","jobs","setJobs","eventLog","setEventLog","offerCooldown","setOfferCooldown","baseSpawnRate","purchased","setPurchased","revenueHistory","setRevenueHistory","lastAutosave","setLastAutosave","cloudBackupStatus","setCloudBackupStatus","managers","setManagers","devOverlay","setDevOverlay","editorTrainingCount","setEditorTrainingCount","pcUpgradeCount","setPCUpgradeCount","marketCycle","setMarketCycle","editorWorkHours","setEditorWorkHours","graceWindowJobs","setGraceWindowJobs","memeEventState","setMemeEventState","activeMemeEvent","setActiveMemeEvent","blackMarketEffects","setBlackMarketEffects","virusWarning","setVirusWarning","virusCountdown","setVirusCountdown","researchLevels","setResearchLevels","showResearchPanel","setShowResearchPanel","prestigePoints","setPrestigePoints","seasonHighRep","setSeasonHighRep","showPrestigeModal","setShowPrestigeModal","achievements","setAchievements","achievementStats","setAchievementStats","showAchievementsPanel","setShowAchievementsPanel","leaderboardData","setLeaderboardData","leaderboardLoading","setLeaderboardLoading","leaderboardError","setLeaderboardError","submitRunStatus","setSubmitRunStatus","requestHandleStatus","setRequestHandleStatus","currentRoute","setCurrentRoute","requestHandleForm","setRequestHandleForm","lastHealthCheck","setLastHealthCheck","healthCheckWarning","setHealthCheckWarning","shadowSave","setShadowSave","softClampWarnings","setSoftClampWarnings","urlParams","isDevMode","isOwner","showDevFeatures","showCommandPalette","setShowCommandPalette","commandInput","setCommandInput","commandHistory","setCommandHistory","commandHistoryIndex","setCommandHistoryIndex","changelog","setChangelog","showChangelog","setShowChangelog","performanceMetrics","setPerformanceMetrics","performanceWarnings","setPerformanceWarnings","generateRunSummary","canvas","ctx","gradient","stats","stat","index","row","x","y","achievementId","achievement","blob","url","pushLog","marketingUsage","setMarketingUsage","useEffect","saveLS","sample","got","ok","prev","timeStr","KEY_PREFIX","hired","remaining","unique","inPool","handleBlur","handleKeyDown","effects","useMemo","speedBonus","spawnBonus","leadCapBonus","id","u","spawnRate","getPrestigeSpawnRateBonus","leadCap","memoizedCalculations","measurePerformance","getDailySalaries","getDailyOverhead","getAvailableJobTypes","getCurrentReputationTier","getNextReputationUnlock","visibleJobs","visibleEditors","visiblePCs","loopRef","useRef","step","tickStart","updates","runHealthCheck","updateMarketCycle","shouldTriggerMemeEvent","triggerMemeEvent","jobUpdates","next","j","jobProgressUpdates","job","ed","pc","onboardingMultiplier","crashChance","getPCCrashChance","crash","speedMul","getBlackMarketSpeedBoost","baseGain","researchBoost","getGlobalProgressBoost","finalGain","newProgress","completedJobs","failedJobs","isGraceWindowEligible","getGraceWindowDeadline","completeJob","reason","failJob","editorUpdates","resting","newEnergy","done","newWorkHours","burnoutMultiplier","getBurnoutEnergyDrain","researchEfficiency","getGlobalEnergyEfficiency","prestigeEfficiency","getPrestigeEnergyEfficiency","energyDrain","goRest","dailySalaries","dailyOverhead","totalDaily","tickDuration","updatePerformanceMetrics","batchStateUpdates","acceptJob","autoAssignJob","jobId","prevJobs","freeEd","freePC","assign","editorId","pcId","editorName","pcName","unassign","quality","getBlackMarketSkillBoost","passed","usedGraceWindow","pay","payoutBoost","getGlobalPayoutBoost","failPenaltyReduction","getGlobalFailPenaltyReduction","reputationBoost","getGlobalReputationBoost","r","repChange","newSet","jobDuration","jobQuality","newStats","checkAchievements","getRemainingFriends","hireEditor","cost","getHireEditorCost","toast","pick","onboardingHours","onboardingComplete","hireManager","availableSlots","threshold","buyPC","getBuyPCCost","trainEditor","getTrainEditorCost","baseSkillGain","getSkillGain","prestigeBonus","getPrestigeTrainingEfficiency","skillGain","upgradePC","getUpgradePCCost","basePowerGain","getPCPowerGain","baseStabilityGain","getPCStabilityGain","getPrestigePCEfficiency","powerGain","stabilityGain","buyUpgrade","runMarketing","getMarketingCost","canUseMarketing","leadCount","getMarketingLeadCount","i","resetGame","exportSave","saveData","json","importSave","input","file","reader","event","currentState","newState","diff","key","oldVal","newVal","change","error","day","available","active","failed","teamEfficiency","editorCount","efficiency","decay","managerBonus","availableManagerSlots","canHireManager","currentCount","diminishingFactor","variance","softwareCost","facilityCost","salaryReduction","getPrestigeSalaryReduction","editorSalaries","sum","managerSalaries","getProjectedNextDayCash","totalDailyBurn","isPayrollRisk","getCurrentJobTier","tier","currentTier","jobType","availableTypes","boostedType","nerfedType","baseChance","stabilityReduction","isEditorBurnout","getCurrentDay","currentDay","lastEventDay","eventsToday","events","randomEvent","sign","isBlackMarketActive","buyCrackedPlugins","expiresAt","triggerVirus","countdown","handleVirusExport","getResearchLevel","researchId","getResearchCost","level","getResearchEffect","research","buyResearch","maxedCategories","canPrestige","getPrestigePerkEffect","perkId","perk","performPrestige","unlock","fetchLeaderboard","requestHandle","email","preferredHandle","getSampleLeaderboardData","createShadowSave","applyShadowSave","shadowData","checkForNaN","value","name","checkForNegativeCash","currentCash","action","checkSoftClamps","warnings","editor","simCash","simReputation","simEditors","simPcs","simJobs","simTick","simLeadsGenerated","simErrors","hour","progress","nanChecks","negativeCashCheck","leadsPerDay","clampWarnings","addChangelogEntry","type","message","details","entry","newChangelog","exportLogs","logData","runPerformanceTest","testEditors","_","testPCs","testJobs","originalSpeed","originalEditors","originalPCs","originalJobs","simulationStart","totalTickTime","tickCount","tickUpdates","updatedJobs","updatedEditors","tickEnd","totalTime","avgTickTime","results","runSimulation","days","startTick","startCash","startReputation","startJobs","simJobsCompleted","fillCash","amount","clampedAmount","oldCash","spawnLeads","count","clampedCount","toggleFeatureFlag","flagName","oldValue","resetToLastGoodSave","executeCommand","command","parts","cmd","args","callback","label","start","result","duration","now","frameTime","fps","React","update","getAchievementProgress","unlockAchievement","showAchievementToast","_a","msg","jsxs","jsx","StatCard","Badge","Progress","isOnboarding","onboardingHoursLeft","Bar","owned","effect","isMaxed","isUnlocked","percentage","line","idx","Fragment","LeaderboardRoute","MemeEventModal","VirusWarningModal","newIndex","onFetchLeaderboard","onRequestHandle","onBackToGame","getSampleData","showRequestForm","setShowRequestForm","handleRequestHandle","displayData","sub","children","className","onClose","timeLeft","setTimeLeft","timer","isPositive","onExport","encodeForStorage","bytes","decodeFromStorage","raw","b64","fallback","val","encoded","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2]}